function removeCourse(e){"use strict";var t=$(e.currentTarget).parents("div.row"),r=t.parent(),n=t.children().first(),i=n.html().replace(/ -.+/,""),l=courseList.indexOf(i);-1!==l&&courseList.splice(l,1),t.children().fadeOut(200,function(){t.children().show().css("visibility","hidden"),r.slideUp(200,function(){r.remove(),0===$("#courses").children().length&&$("#courses").css("margin-bottom","-10px")})})}function addCourse(e){"use strict";courseList.push(e.replace(/ -.*/,""));var t=$("#courses"),r=$("<span>").addClass("glyphicon glyphicon-remove-circle remove-icon").attr("aria-hidden",!0).click(removeCourse),n=$("<div>").append($('<div class="row">').html('<div class="col-10">'+e+"</div>").append($('<div class="col-2" style="text-align: right;">').append(r)));t.append(n).css("margin-bottom",0),n.children().hide(),n.hide().slideDown(200,function(){n.children().fadeIn(200)})}function getColour(e){"use strict";var t=[[19,111,225],[160,29,33],[0,140,72],[102,44,145],[255,107,0],[10,28,210],[238,46,20]];return t[e%t.length].join(",")}function startDrag(e,t){"use strict";var r=$(e.target),n=r.attr("id"),i=shadowList[n];i.fadeIn(100),r.css({position:"relative"})}function stopDrag(e,t){"use strict";function r(e,t){e.detach().appendTo(t).css({position:"absolute",left:0,top:0})}var o,a,n=$(e.target),i=n.width()/2*n.width()/2,l=null;$(".class-shadow:visible").each(function(){var e=$(this).offset(),t=n.offset(),r=Math.pow(e.left-t.left,2)+Math.pow(e.top-t.top,2);i>r&&(i=r,l=$(this))}),null!==l&&(o=n.attr("id"),a=shadowList[o].index(l),$('.class-drag[id^="'+o.replace(/\d$/,"")+'"]').each(function(){var e=$(this),t=$(shadowList[$(this).attr("id")][a]);r(e,t.parent())})),$(".class-shadow").fadeOut(200)}function createClass(e,t,r,n,i){"use strict";var l,o,a,f,s,u,c,h="CBS"!==t?t+": "+r:r,p=0;for(o=0;o<e.length;o+=1)-1===i.indexOf(e[o]+t+r)?(i.push(e[o]+t+r),a=t+r+(o-p),f=h,l=e[o],s=l[2]-l[1],u=$("#"+l[0]+ +l[1]),c=$('<div class="class-drag" id="'+a+'">').append($("<div>").html(f)).draggable({stack:".class-drag",scroll:!0,containment:u.parents(".row"),start:startDrag,stop:stopDrag}).css({position:"absolute","background-color":"rgb("+getColour(n)+")"}),c.appendTo(u),c.height(u.outerHeight()*s),classList.push(c)):p+=1}function createShadow(e,t,r,n){"use strict";var i,l,o,a,f,s,c,u=0;for(o=0;o<e.length;o+=1)i=e[o],l=i.join(""),-1===n.indexOf(l+t)?(n.push(l+t),s=i[2]-i[1],f=$("#"+i[0]+ +i[1]),a=$('<div class="class-shadow">').css({"background-color":"rgba("+getColour(r)+", 0.7)"}),a.appendTo(f),a.height(f.outerHeight()*s),c=t+(o-u),shadowList.hasOwnProperty(c)?shadowList[c]=shadowList[c].push(a):shadowList[c]=a):u+=1}function clearLists(){"use strict";classList=[],shadowList={}}var courseList=["CBS"],classList=[],shadowList={};!function(){"use strict";function t(){var t=function(e){return function(t,r){var n=[],i=[],l=courseList;t=t.toLowerCase(),$.each(e,function(e,r){if(l.indexOf(e)>=0)return!0;var o=e+" - "+r,a=o.toLowerCase().indexOf(t);a>0?n.push(o):0===a&&i.push(o)}),i.sort(),i.length<10&&n.length>0&&(n.sort(),i=i.concat(n)),r(i.slice(0,10))}};$(".typeahead.coursein").typeahead({name:"courses",source:t(e)})}var e;$.getJSON("data/courses.json",function(r){e=r,$(document).ready(function(){t()})})}(),$.fn.push=function(e){"use strict";return Array.prototype.push.apply(this,$.makeArray($(e))),this};
