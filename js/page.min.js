function removeCourse(t){"use strict";var s=$(t.currentTarget).parents("div.row"),e=s.parent(),i=s.children().first(),a=i.html().replace(/ -.+/,""),r=courseList.indexOf(a);-1!==r&&courseList.splice(r,1),s.children().fadeOut(200,function(){s.children().show().css("visibility","hidden"),e.slideUp(200,function(){e.remove(),0===$("#courses").children().length&&$("#courses").css("margin-bottom","-10px")})})}function addCourse(t){"use strict";courseList.push(t.replace(/ -.*/,""));var s=$("#courses"),e=$("<span>").addClass("glyphicon glyphicon-remove-circle remove-icon").attr("aria-hidden",!0).click(removeCourse),i=$("<div>").append($('<div class="row">').html('<div class="col-10">'+t+"</div>").append($('<div class="col-2" style="text-align: right;">').append(e)));s.append(i).css("margin-bottom",0),i.children().hide(),i.hide().slideDown(200,function(){i.children().fadeIn(200)})}function getColour(t){"use strict";var s=[[160,29,33],[19,111,225],[0,140,72],[102,44,145],[255,107,0],[10,28,210],[238,46,20]];return s[t].join(",")}function startDrag(t,s){"use strict";var e=$(t.target),i=e.attr("id"),a=shadowList[i];console.log(i),a.fadeIn(100),e.css({position:"relative"})}function stopDrag(t,s){"use strict";function e(t,s){t.detach().appendTo(s).css({position:"absolute",left:0,top:0})}var o,n,i=$(t.target),a=i.width()/2*i.width()/2,r=null;$(".class-shadow:visible").each(function(){var t=$(this).offset(),s=i.offset(),e=Math.pow(t.left-s.left,2)+Math.pow(t.top-s.top,2);a>e&&(a=e,r=$(this))}),null!==r&&(o=i.attr("id"),n=shadowList[o].index(r),$('.class-drag[id^="'+o.replace(/\d$/,"")+'"]').each(function(){var t=$(this),s=$(shadowList[$(this).attr("id")][n]);e(t,s.parent())})),$(".class-shadow").fadeOut(200)}function createClass(t,s,e,i){"use strict";var r,o,n,c,l,d,u,a=t.split(","),h=s+": "+e;for(r=0;r<a.length;r+=1)o=s+e+r,n=h,c=a[r].replace(/. /,"").split("-"),l=c.length>1?c[1]-c[0]:1,d=$("#"+a[r][0]+ +c[0]),u=$('<div class="class-drag" id="'+o+'">').append($("<div>").html(n)).draggable({stack:".class-drag",scroll:!0,containment:d.parents(".row"),start:startDrag,stop:stopDrag}).css({position:"absolute","background-color":"rgb("+getColour(i)+")"}),u.appendTo(d),u.height(d.outerHeight()*l),classList.push(u)}function createShadow(t,s,e,i){"use strict";console.log(t,s);var a,r,o,n,c,l,d,h,u=0;for(a=t.split(","),o=0;o<a.length;o+=1)r=a[o],-1===i.indexOf(r+s)?(l=r.replace(/. /,"").split("-"),d=l.length>1?l[1]-l[0]:1,c=$("#"+r[0]+ +l[0]),n=$('<div class="class-shadow">'),n.appendTo(c),n.height(c.outerHeight()*d),h=s+(o-u),shadowList.hasOwnProperty(h)?shadowList[h]=shadowList[h].add(n):shadowList[h]=n,i.push(r+s)):u+=1}function clearLists(){"use strict";classList=[],shadowList={}}var courseList=[],classList=[],shadowList={};!function(){"use strict";function s(){var s=function(t){return function(s,e){var i=[],a=[],r=courseList;s=s.toLowerCase(),$.each(t,function(t,e){if(r.indexOf(t)>=0)return!0;var o=t+" - "+e,n=o.toLowerCase().indexOf(s);n>0?i.push(o):0===n&&a.push(o)}),a.sort(),a.length<10&&i.length>0&&(i.sort(),a.concat(i)),e(a.slice(0,10))}};$(".typeahead.coursein").typeahead({name:"courses",source:s(t)})}var t;$.getJSON("data/courses.json",function(e){t=e,$(document).ready(function(){s()})})}();
