function removeCourse(t){"use strict";var s=$(t.currentTarget).parents("div.row"),e=s.parent(),i=s.children().first(),a=i.html().replace(/ -.+/,""),r=courseList.indexOf(a);-1!==r&&courseList.splice(r,1),s.children().fadeOut(200,function(){s.children().show().css("visibility","hidden"),e.slideUp(200,function(){e.remove(),0===$("#courses").children().length&&$("#courses").css("margin-bottom","-10px")})})}function addCourse(t){"use strict";courseList.push(t.replace(/ -.*/,""));var s=$("#courses"),e=$("<span>").addClass("glyphicon glyphicon-remove-circle remove-icon").attr("aria-hidden",!0).click(removeCourse),i=$("<div>").append($('<div class="row">').html('<div class="col-10">'+t+"</div>").append($('<div class="col-2" style="text-align: right;">').append(e)));s.append(i).css("margin-bottom",0),i.children().hide(),i.hide().slideDown(200,function(){i.children().fadeIn(200)})}function startDrag(t,s){"use strict";var i=$(t.target),a=i.text().replace(": ",""),r=$(shadowList[a]).map(function(){return this.toArray()});r.fadeIn(200),i.css({position:"relative"})}function stopDrag(t,s){"use strict";var e=$(t.target),i=e.width()/2*e.width()/2,a=null,r=[0,0];$(".class-shadow:visible").each(function(){var t=$(this).offset(),s=e.offset(),o=Math.pow(t.left-s.left,2)+Math.pow(t.top-s.top,2);i>o&&(i=o,a=$(this),r=[t.left-s.left,t.top-s.top])}),null!==a&&e.detach().appendTo(a.parent()).css({position:"absolute",left:0,top:0}),$(".class-shadow").fadeOut(200)}function createClass(t,s){"use strict";var i,a,r,o,n,c,e=t.split(",");for(a=0;a<e.length;a+=1)i=e[a],n=i.replace(/. /,"").split("-"),c=n.length>1?n[1]-n[0]:1,o=$("#"+i[0]+ +n[0]),r=$('<div class="class-drag">').append($("<div>").html(s)).draggable({stack:".class-drag",scroll:!0,containment:o.parents(".row"),start:startDrag,stop:stopDrag}).css({position:"absolute"}),r.appendTo(o),r.height(o.outerHeight()*c),classList.push(r)}function createShadow(t,s){"use strict";var e,i,a,r,o,n,c;for(e=t.split(","),a=0;a<e.length;a+=1)i=e[a],n=i.replace(/. /,"").split("-"),c=n.length>1?n[1]-n[0]:1,o=$("#"+i[0]+ +n[0]),r=$('<div class="class-shadow">'),r.appendTo(o),r.height(o.outerHeight()*c),shadowList.hasOwnProperty(s)?shadowList[s].push(r):shadowList[s]=[r]}var courseList=[],classList=[],shadowList={};!function(){"use strict";function s(){var s=function(t){return function(s,e){var i=[],a=[],r=courseList;s=s.toLowerCase(),$.each(t,function(t,e){if(r.indexOf(t)>=0)return!0;var o=t+" - "+e,n=o.toLowerCase().indexOf(s);n>0?i.push(o):0===n&&a.push(o)}),a.sort(),a.length<10&&i.length>0&&(i.sort(),a.concat(i)),e(a.slice(0,10))}};$(".typeahead.coursein").typeahead({name:"courses",source:s(t)})}var t;$.getJSON("data/courses.json",function(e){t=e,$(document).ready(function(){s()})})}();
