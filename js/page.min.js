function removeCourse(t){"use strict";var e=$(t.currentTarget).parents("div.row"),s=e.parent(),i=e.children().first(),r=i.html().replace(/ -.+/,""),o=courseList.indexOf(r);-1!==o&&courseList.splice(o,1),e.children().fadeOut(200,function(){e.children().show().css("visibility","hidden"),s.slideUp(200,function(){s.remove(),0===$("#courses").children().length&&$("#courses").css("margin-bottom","-10px")})})}function addCourse(t){"use strict";courseList.push(t.replace(/ -.*/,""));var e=$("#courses"),s=$("<span>").addClass("glyphicon glyphicon-remove-circle remove-icon").attr("aria-hidden",!0).click(removeCourse),i=$("<div>").append($('<div class="row">').html('<div class="col-10">'+t+"</div>").append($('<div class="col-2" style="text-align: right;">').append(s)));e.append(i).css("margin-bottom",0),i.children().hide(),i.hide().slideDown(200,function(){i.children().fadeIn(200)})}function getColour(t){"use strict";var e=[[19,111,225],[160,29,33],[0,140,72],[102,44,145],[255,107,0],[10,28,210],[238,46,20]];return e[t%e.length].join(",")}function startDrag(t,e){"use strict";var s=$(t.target),i=s.attr("id"),r=shadowList[i];r.fadeIn(100),s.css({position:"relative"})}function stopDrag(t,e){"use strict";function s(t,e){t.detach().appendTo(e).css({position:"absolute",left:0,top:0})}var n,a,i=$(t.target),r=i.width()/2*i.width()/2,o=null;$(".class-shadow:visible").each(function(){var t=$(this).offset(),e=i.offset(),s=Math.pow(t.left-e.left,2)+Math.pow(t.top-e.top,2);r>s&&(r=s,o=$(this))}),null!==o&&(n=i.attr("id"),a=shadowList[n].index(o),$('.class-drag[id^="'+n.replace(/\d$/,"")+'"]').each(function(){var t=$(this),e=$(shadowList[$(this).attr("id")][a]);s(t,e.parent())})),$(".class-shadow").fadeOut(200)}function unique(t){"use strict";var i,e=[],s=[];for(i=0;i<t.length;i+=1)-1===s.indexOf(String(t[i]))&&(e.push(t[i]),s.push(String(t[i])));return e}function createClass(t,e,s,i,r){"use strict";var o,n,a,c,u,l,d="CBS"!==e?e+": "+s:s,h=0;for(n=0;n<t.length;n+=1)o=t[n],-1===r.indexOf(o.join(",")+e+s)?(r.push(o.join(",")+e+s),a=e+s+(n-h),c=o[2]-o[1],u=$("#"+o[0]+ +o[1]),l=$('<div class="class-drag" id="'+a+'">').append($("<div>").html(d)).draggable({stack:".class-drag",scroll:!0,containment:u.parents(".row"),start:startDrag,stop:stopDrag}).css({position:"absolute","background-color":"rgb("+getColour(i)+")"}),l.appendTo(u),l.height(u.outerHeight()*c),classList.push(l)):h+=1}function createShadow(t,e,s,i){"use strict";t=unique(t);var r,o,n,a,c,u,l,d;for(n=0;n<t.length;n+=1)r=t[n],o=r.join(","),d=e+n,a=void 0!==i[e]?i[e].indexOf(o):-1,-1===a?(i.hasOwnProperty(e)?i[e].push(o):i[e]=[o],l=r[2]-r[1],u=$("#"+r[0]+ +r[1]),c=$('<div class="class-shadow">').css({"background-color":"rgba("+getColour(s)+", 0.7)"}),c.appendTo(u),c.height(u.outerHeight()*l)):c=$("#"+r[0]+ +r[1]).children(".class-shadow"),shadowList.hasOwnProperty(d)?shadowList[d]=shadowList[d].push(c):shadowList[d]=c}function clearLists(){"use strict";classList=[],shadowList={}}var courseList=["CBS"],classList=[],shadowList={};!function(){"use strict";function e(){var e=function(t){return function(e,s){var i=[],r=[],o=courseList;e=e.toLowerCase(),$.each(t,function(t,s){if(o.indexOf(t)>=0)return!0;var n=t+" - "+s,a=n.toLowerCase().indexOf(e);a>0?i.push(n):0===a&&r.push(n)}),r.sort(),r.length<10&&i.length>0&&(i.sort(),r=r.concat(i)),s(r.slice(0,10))}};$(".typeahead.coursein").typeahead({name:"courses",source:e(t)})}var t;$.getJSON("data/courses.json",function(s){t=s,$(document).ready(function(){e()})})}(),$.fn.push=function(t){"use strict";return Array.prototype.push.apply(this,$.makeArray($(t))),this};
