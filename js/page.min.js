function removeCourse(t){"use strict";var e=$(t.currentTarget).parents("div.row"),i=e.parent(),s=e.children().first(),n=s.html().replace(/ -.+/,""),r=courseList.indexOf(n);-1!==r&&courseList.splice(r,1),e.children().fadeOut(200,function(){e.children().show().css("visibility","hidden"),i.slideUp(200,function(){i.remove(),0===$("#courses").children().length&&$("#courses").css("margin-bottom","-10px")})})}function addCourse(t){"use strict";courseList.push(t.replace(/ -.*/,""));var e=$("#courses"),i=$("<span>").addClass("glyphicon glyphicon-remove-circle remove-icon").attr("aria-hidden",!0).click(removeCourse),s=$("<div>").append($('<div class="row">').html('<div class="col-10">'+t+"</div>").append($('<div class="col-2" style="text-align: right;">').append(i)));e.append(s).css("margin-bottom",0),s.children().hide(),s.hide().slideDown(200,function(){s.children().fadeIn(200)})}function getColour(t){"use strict";var e=[[19,111,225],[160,29,33],[0,140,72],[102,44,145],[255,107,0],[10,28,210],[238,46,20]];return e[t%e.length].join(",")}function startDrag(t,e){"use strict";var i=$(t.target),s=i.attr("id"),n=shadowList[s];n.fadeIn(100),i.css({position:"relative"})}function stopDrag(t,e){"use strict";function i(t,e){t.detach().appendTo(e).css({position:"absolute",left:0,top:0})}var o,a,s=$(t.target),n=s.width()/2*s.width()/2,r=null;$(".class-shadow:visible").each(function(){var t=$(this).offset(),e=s.offset(),i=Math.pow(t.left-e.left,2)+Math.pow(t.top-e.top,2);n>i&&(n=i,r=$(this))}),null!==r&&(o=s.attr("id"),a=shadowList[o].index(r),$('.class-drag[id^="'+o.replace(/\d$/,"")+'"]').each(function(){var t=$(this),e=$(shadowList[$(this).attr("id")][a]);i(t,e.parent())})),$(".class-shadow").fadeOut(200)}function unique(t){"use strict";var s,e=[],i=[];for(s=0;s<t.length;s+=1)-1===i.indexOf(String(t[s]))&&(e.push(t[s]),i.push(String(t[s])));return e}function createClass(t,e,i,s,n){"use strict";var r,o,a,l,c,d,u="CBS"!==e?e+": "+i:i,h=0;for(o=0;o<t.length;o+=1)r=t[o],-1===n.indexOf(r.join(",")+e+i)?(n.push(r.join(",")+e+i),a=e+i+(o-h),l=r[2]-r[1],c=$("#"+(r[0]+r[1]).replace(".5","_30")),d=$('<div class="class-drag" id="'+a+'">').append($("<div>").html(u)).draggable({stack:".class-drag",scroll:!0,containment:c.parents(".row"),start:startDrag,stop:stopDrag}).css({position:"absolute","background-color":"rgb("+getColour(s)+")"}),d.appendTo(c),d.height(c.outerHeight()*l*2),classList.push(d)):h+=1}function createShadow(t,e,i,s){"use strict";t=unique(t);var n,r,o,a,l,c,d,u,h;for(o=0;o<t.length;o+=1){if(n=t[o],r=n.join(","),h=e+o,l=void 0!==s[e]?s[e].indexOf(r):-1,-1===l)s.hasOwnProperty(e)?s[e].push(r):s[e]=[r],u=n[2]-n[1],d=$("#"+(n[0]+n[1]).replace(".5","_30")),c=$('<div class="class-shadow">').css({"background-color":"rgba("+getColour(i)+", 0.7)"}),c.appendTo(d),c.height(d.outerHeight()*u*2);else{for(c=void 0,a=0;a<shadowList[h].length;a+=1)if($(shadowList[h][a]).parent().attr("id")===(n[0]+n[1]).replace(".5","_30")){c=$(shadowList[h][a]);break}void 0===c&&console.error("DIV disappeared in the middle of a function call!")}shadowList.hasOwnProperty(h)?shadowList[h]=shadowList[h].push(c):shadowList[h]=c}}function clearLists(){"use strict";classList=[],shadowList={}}var courseList=["CBS"],classList=[],shadowList={};!function(){"use strict";function e(){var e=function(t){return function(e,i){var s=[],n=[],r=courseList;e=e.toLowerCase(),$.each(t,function(t,i){if(r.indexOf(t)>=0)return!0;var o=t+" - "+i,a=o.toLowerCase().indexOf(e);a>0?s.push(o):0===a&&n.push(o)}),n.sort(),n.length<10&&s.length>0&&(s.sort(),n=n.concat(s)),i(n.slice(0,10))}};$(".typeahead.coursein").typeahead({name:"courses",source:e(t)})}var t;$.getJSON("data/courses.json",function(i){t=i,$(document).ready(function(){e()})})}(),$.fn.push=function(t){"use strict";return Array.prototype.push.apply(this,$.makeArray($(t))),this};
