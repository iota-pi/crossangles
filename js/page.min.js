function removeCourse(t){"use strict";var e=$(t.currentTarget).parents("div.row"),i=e.parent(),n=e.children().first(),o=n.html().replace(/ -.+/,""),s=courseList.indexOf(o);-1!==s&&courseList.splice(s,1),e.children().fadeOut(200,function(){e.children().show().css("visibility","hidden"),i.slideUp(200,function(){i.remove(),0===$("#courses").children().length&&$("#courses").css("margin-bottom","-10px")})})}function addCourse(t){"use strict";courseList.push(t.replace(/ -.*/,""));var e=$("#courses"),i=$("<span>").addClass("glyphicon glyphicon-remove-circle remove-icon").attr("aria-hidden",!0).click(removeCourse),n=$("<div>").append($('<div class="row">').html('<div class="col-10">'+t+"</div>").append($('<div class="col-2" style="text-align: right;">').append(i)));e.append(n).css("margin-bottom",0),n.children().hide(),n.hide().slideDown(200,function(){n.children().fadeIn(200)})}function getColour(t){"use strict";var e=[[19,111,225],[160,29,33],[0,140,72],[102,44,145],[255,107,0],[10,28,210],[238,46,20]];return e[t%e.length].join(",")}function startDrag(t,e){"use strict";var i=$(t.target),n=i.attr("id"),o=shadowList[n];o.fadeIn(100),i.css({position:"relative"})}function stopDrag(t,e){"use strict";function i(t,e){t.detach().appendTo(e).css({position:"absolute",left:0,top:0})}var r,a,n=$(t.target),o=n.width()/2*n.width()/2,s=null;$(".class-shadow:visible").each(function(){var t=$(this).offset(),e=n.offset(),i=Math.pow(t.left-e.left,2)+Math.pow(t.top-e.top,2);o>i&&(o=i,s=$(this))}),null!==s&&(r=n.attr("id"),a=shadowList[r].index(s),$('.class-drag[id^="'+r.replace(/\d$/,"")+'"]').each(function(){var t=$(this),e=$(shadowList[$(this).attr("id")][a]);i(t,e.parent())})),$(".class-shadow").fadeOut(200)}function unique(t){"use strict";var n,e=[],i=[];for(n=0;n<t.length;n+=1)-1===i.indexOf(String(t[n]))&&(e.push(t[n]),i.push(String(t[n])));return e}function createClass(t,e,i,n,o){"use strict";var s,r,a,l,f,h,c="CBS"!==e?e+": "+i:i,d=0;for(r=0;r<t.length;r+=1)s=t[r],-1===o.indexOf(s.join(",")+e+i)?(o.push(s.join(",")+e+i),a=e+i+(r-d),l=s[2]-s[1],f=$("#"+s[0]+ +s[1]),h=$('<div class="class-drag" id="'+a+'">').append($("<div>").html(c)).draggable({stack:".class-drag",scroll:!0,containment:f.parents(".row"),start:startDrag,stop:stopDrag}).css({position:"absolute","background-color":"rgb("+getColour(n)+")"}),h.appendTo(f),h.height(f.outerHeight()*l),classList.push(h)):d+=1}function createShadow(t,e,i,n){"use strict";t=unique(t);var o,s,r,a,l,f,h,c,d;for(r=0;r<t.length;r+=1){if(o=t[r],s=o.join(","),d=e+r,l=void 0!==n[e]?n[e].indexOf(s):-1,-1===l)n.hasOwnProperty(e)?n[e].push(s):n[e]=[s],c=o[2]-o[1],h=$("#"+o[0]+o[1]),f=$('<div class="class-shadow">').css({"background-color":"rgba("+getColour(i)+", 0.7)"}),f.appendTo(h),f.height(h.outerHeight()*c);else{for(f=void 0,a=0;a<shadowList[d].length;a+=1)if($(shadowList[d][a]).parent().attr("id")===o[0]+o[1]){f=$(shadowList[d][a]);break}void 0===f&&console.error("DIV disappeared in the middle of a function call!")}shadowList.hasOwnProperty(d)?shadowList[d]=shadowList[d].push(f):shadowList[d]=f}}function clearLists(){"use strict";classList=[],shadowList={}}var courseList=["CBS"],classList=[],shadowList={};!function(){"use strict";function e(){var e=function(t){return function(e,i){var n=[],o=[],s=courseList;e=e.toLowerCase(),$.each(t,function(t,i){if(s.indexOf(t)>=0)return!0;var r=t+" - "+i,a=r.toLowerCase().indexOf(e);a>0?n.push(r):0===a&&o.push(r)}),o.sort(),o.length<10&&n.length>0&&(n.sort(),o=o.concat(n)),i(o.slice(0,10))}};$(".typeahead.coursein").typeahead({name:"courses",source:e(t)})}var t;$.getJSON("data/courses.json",function(i){t=i,$(document).ready(function(){e()})})}(),$.fn.push=function(t){"use strict";return Array.prototype.push.apply(this,$.makeArray($(t))),this};
