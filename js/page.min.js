function removeCourse(e){"use strict";var t=$(e.currentTarget).parents("div.row"),r=t.parent(),s=t.children().first(),i=s.html().replace(/ -.+/,""),n=courseList.indexOf(i);-1!==n&&courseList.splice(n,1),t.children().fadeOut(200,function(){t.children().show().css("visibility","hidden"),r.slideUp(200,function(){r.remove(),0===$("#courses").children().length&&$("#courses").css("margin-bottom","-10px")})})}function addCourse(e){"use strict";courseList.push(e.replace(/ -.*/,""));var t=$("#courses"),r=$("<span>").addClass("glyphicon glyphicon-remove-circle remove-icon").attr("aria-hidden",!0).click(removeCourse),s=$("<div>").append($('<div class="row">').html('<div class="col-10">'+e+"</div>").append($('<div class="col-2" style="text-align: right;">').append(r)));t.append(s).css("margin-bottom",0),s.children().hide(),s.hide().slideDown(200,function(){s.children().fadeIn(200)})}function getColour(e){"use strict";var t=[[19,111,225],[160,29,33],[0,140,72],[102,44,145],[255,107,0],[10,28,210],[238,46,20]];return t[e%t.length].join(",")}function startDrag(e,t){"use strict";var r=$(e.target),s=r.attr("id"),i=shadowList[s];i.fadeIn(100),r.css({position:"relative"})}function stopDrag(e,t){"use strict";function r(e,t){e.detach().appendTo(t).css({position:"absolute",left:0,top:0})}var o,a,s=$(e.target),i=s.width()/2*s.width()/2,n=null;$(".class-shadow:visible").each(function(){var e=$(this).offset(),t=s.offset(),r=Math.pow(e.left-t.left,2)+Math.pow(e.top-t.top,2);i>r&&(i=r,n=$(this))}),null!==n&&(o=s.attr("id"),a=shadowList[o].index(n),$('.class-drag[id^="'+o.replace(/\d$/,"")+'"]').each(function(){var e=$(this),t=$(shadowList[$(this).attr("id")][a]);r(e,t.parent())})),$(".class-shadow").fadeOut(200)}function unique(e){"use strict";var s,t=[],r=[];for(s=0;s<e.length;s+=1)-1===r.indexOf(String(e[s]))&&(t.push(e[s]),r.push(String(e[s])));return t}function createClass(e,t,r,s,i,n){"use strict";var o,a,l,c,u,f,h="<div>"+("CBS"!==r?r+": "+s:s)+"</div>",d=0;for(t="CBS"!==r?'<div class="class-capacity">'+t.replace(","," / ")+"</div>":"",a=0;a<e.length;a+=1)o=e[a],-1===n.indexOf(o.join(",")+r+s)?(n.push(o.join(",")+r+s),l=r+s+(a-d),c=o[2]-o[1],u=$("#"+(o[0]+o[1]).replace(".5","_30")),f=$('<div class="class-drag" id="'+l+'">').append($("<div>").html(h+t)).draggable({stack:".class-drag",scroll:!0,containment:u.parents(".row"),start:startDrag,stop:stopDrag}).css({position:"absolute","background-color":"rgb("+getColour(i)+")"}),f.appendTo(u),f.height(u.outerHeight()*c*2),classList.push(f)):d+=1;document.getElementById("showcap").checked||$(".class-capacity").hide()}function createShadow(e,t,r,s){"use strict";e=unique(e);var i,n,o,a,l,c,u,f,h;for(o=0;o<e.length;o+=1){if(i=e[o],n=i.join(","),h=t+o,l=void 0!==s[t]?s[t].indexOf(n):-1,-1===l)s.hasOwnProperty(t)?s[t].push(n):s[t]=[n],f=i[2]-i[1],u=$("#"+(i[0]+i[1]).replace(".5","_30")),c=$('<div class="class-shadow">').css({"background-color":"rgba("+getColour(r)+", 0.7)"}),c.appendTo(u),c.height(u.outerHeight()*f*2);else{for(c=void 0,a=0;a<shadowList[h].length;a+=1)if($(shadowList[h][a]).parent().attr("id")===(i[0]+i[1]).replace(".5","_30")){c=$(shadowList[h][a]);break}void 0===c&&console.error("DIV disappeared in the middle of a function call!")}shadowList.hasOwnProperty(h)?shadowList[h]=shadowList[h].push(c):shadowList[h]=c}}function clearLists(){"use strict";classList=[],shadowList={}}var courseList=["CBS"],classList=[],shadowList={};!function(){"use strict";function t(){var t=function(e){return function(t,r){var s=[],i=[],n=courseList;t=t.toLowerCase(),$.each(e,function(e,r){if(n.indexOf(e)>=0)return!0;var o=e+" - "+r,a=o.toLowerCase().indexOf(t);a>0?s.push(o):0===a&&i.push(o)}),i.sort(),i.length<10&&s.length>0&&(s.sort(),i=i.concat(s)),r(i.slice(0,10))}};$(".typeahead.coursein").typeahead({name:"courses",source:t(e)})}var e;$.getJSON("data/courses.json",function(r){e=r,$(document).ready(function(){t(),$("#showcap").change(function(){var e=$(".class-capacity");document.getElementById("showcap").checked===!0?e.show():e.hide()})})})}(),$.fn.push=function(e){"use strict";return Array.prototype.push.apply(this,$.makeArray($(e))),this};
