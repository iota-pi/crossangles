function removeCourse(e){"use strict";var t=$(e.currentTarget).parents("div.row"),r=t.parent(),s=t.children().first(),n=s.html().replace(/ -.+/,""),i=courseList.indexOf(n);-1!==i&&courseList.splice(i,1),t.children().fadeOut(200,function(){t.children().show().css("visibility","hidden"),r.slideUp(200,function(){r.remove(),0===$("#courses").children().length&&$("#courses").css("margin-bottom","-10px")})})}function addCourse(e){"use strict";courseList.push(e.replace(/ -.*/,""));var t=$("#courses"),r=$("<span>").addClass("glyphicon glyphicon-remove-circle remove-icon").attr("aria-hidden",!0).click(removeCourse),s=$("<div>").append($('<div class="row">').html('<div class="col-10">'+e+"</div>").append($('<div class="col-2" style="text-align: right;">').append(r)));t.append(s).css("margin-bottom",0),s.children().hide(),s.hide().slideDown(200,function(){s.children().fadeIn(200)})}function startDrag(e,t){"use strict";var s=$(e.target),n=s.text().replace(": ",""),i=$(shadowList[n]).map(function(){return this.toArray()});i.fadeIn(200),s.css({position:"relative"})}function stopDrag(e,t){"use strict";var s,r=1/0,n=[0,0],i=$(e.target);$(".class-shadow:visible").each(function(){var e=$(this).offset(),t=i.offset(),a=Math.pow(e.left-t.left,2)+Math.pow(e.top-t.top,2);r>a&&(r=a,s=$(this),n=[e.left-t.left,e.top-t.top])}),i.detach().appendTo(s.parent()).css({position:"absolute",left:0,top:0}),$(".class-shadow").fadeOut(200)}function createClass(e,t){"use strict";var s,n,i,a,o,c,r=e.split(",");for(n=0;n<r.length;n+=1)s=r[n],o=s.replace(/. /,"").split("-"),c=o.length>1?o[1]-o[0]:1,a=$("#"+s[0]+ +o[0]),i=$('<div class="class-drag">').append($("<div>").html(t)).draggable({stack:".class-drag",scroll:!0,containment:a.parents(".row"),start:startDrag,stop:stopDrag}).css({position:"absolute"}),i.appendTo(a),i.height(a.outerHeight()*c),classList.push(i)}function createShadow(e,t){"use strict";var r,s,n,i,a,o,c;for(r=e.split(","),n=0;n<r.length;n+=1)s=r[n],o=s.replace(/. /,"").split("-"),c=o.length>1?o[1]-o[0]:1,a=$("#"+s[0]+ +o[0]),i=$('<div class="class-shadow">'),i.appendTo(a),i.height(a.outerHeight()*c),shadowList.hasOwnProperty(t)?shadowList[t].push(i):shadowList[t]=[i]}var courseList=[],classList=[],shadowList={};!function(){"use strict";function t(){var t=function(e){return function(t,r){var s=[],n=[],i=courseList;t=t.toLowerCase(),$.each(e,function(e,r){if(i.indexOf(e)>=0)return!0;var a=e+" - "+r,o=a.toLowerCase().indexOf(t);o>0?s.push(a):0===o&&n.push(a)}),n.sort(),n.length<10&&s.length>0&&(s.sort(),n.concat(s)),r(n.slice(0,10))}};$(".typeahead.coursein").typeahead({name:"courses",source:t(e)})}var e;$.getJSON("data/courses.json",function(r){e=r,$(document).ready(function(){t()})})}();
