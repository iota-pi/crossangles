function removeCourse(e){"use strict";var t=$(e.currentTarget).parents("div.row"),r=t.parent(),n=t.children().first(),i=n.html().replace(/ -.+/,""),a=courseList.indexOf(i);-1!==a&&courseList.splice(a,1),t.children().fadeOut(200,function(){t.children().show().css("visibility","hidden"),r.slideUp(200,function(){r.remove(),0===$("#courses").children().length&&$("#courses").css("margin-bottom","-10px")})})}function addCourse(e){"use strict";courseList.push(e.replace(/ -.*/,""));var t=$("#courses"),r=$("<span>").addClass("glyphicon glyphicon-remove-circle remove-icon").attr("aria-hidden",!0).click(removeCourse),n=$("<div>").append($('<div class="row">').html('<div class="col-10">'+e+"</div>").append($('<div class="col-2" style="text-align: right;">').append(r)));t.append(n).css("margin-bottom",0),n.children().hide(),n.hide().slideDown(200,function(){n.children().fadeIn(200)})}function getColour(e){"use strict";var t=[[19,111,225],[160,29,33],[0,140,72],[102,44,145],[255,107,0],[10,28,210],[238,46,20]];return t[e%t.length].join(",")}function startDrag(e,t){"use strict";var r=$(e.target),n=r.attr("id"),i=shadowList[n];i.fadeIn(100),r.css({position:"relative"})}function stopDrag(e,t){"use strict";function r(e,t){e.detach().appendTo(t).css({position:"absolute",left:0,top:0})}var o,s,n=$(e.target),i=n.width()/2*n.width()/2,a=null;$(".class-shadow:visible").each(function(){var e=$(this).offset(),t=n.offset(),r=Math.pow(e.left-t.left,2)+Math.pow(e.top-t.top,2);i>r&&(i=r,a=$(this))}),null!==a&&(o=n.attr("id"),s=shadowList[o].index(a),$('.class-drag[id^="'+o.replace(/\d$/,"")+'"]').each(function(){var e=$(this),t=$(shadowList[$(this).attr("id")][s]);r(e,t.parent())})),$(".class-shadow").fadeOut(200)}function createClass(e,t,r,n,i){"use strict";var o,s,l,u,c,f,h,a=e.split(","),p="CBS"!==t?t+": "+r:r,d=0;for(o=0;o<a.length;o+=1)-1===i.indexOf(a[o]+t+r)?(i.push(a[o]+t+r),s=t+r+(o-d),l=p,u=a[o].replace(/. /,"").split("-"),c=u.length>1?u[1]-u[0]:1,f=$("#"+a[o][0]+ +u[0]),h=$('<div class="class-drag" id="'+s+'">').append($("<div>").html(l)).draggable({stack:".class-drag",scroll:!0,containment:f.parents(".row"),start:startDrag,stop:stopDrag}).css({position:"absolute","background-color":"rgb("+getColour(n)+")"}),h.appendTo(f),h.height(f.outerHeight()*c),classList.push(h)):d+=1}function createShadow(e,t,r,n){"use strict";var i,a,o,s,l,u,c,h,f=0;for(i=e.split(","),o=0;o<i.length;o+=1)a=i[o],-1===n.indexOf(a+t)?(n.push(a+t),u=a.replace(/. /,"").split("-"),c=u.length>1?u[1]-u[0]:1,l=$("#"+a[0]+ +u[0]),s=$('<div class="class-shadow">').css({"background-color":"rgba("+getColour(r)+", 0.7)"}),s.appendTo(l),s.height(l.outerHeight()*c),h=t+(o-f),shadowList.hasOwnProperty(h)?shadowList[h]=shadowList[h].push(s):shadowList[h]=s):f+=1}function clearLists(){"use strict";classList=[],shadowList={}}var courseList=["CBS"],classList=[],shadowList={};!function(){"use strict";function t(){var t=function(e){return function(t,r){var n=[],i=[],a=courseList;t=t.toLowerCase(),$.each(e,function(e,r){if(a.indexOf(e)>=0)return!0;var o=e+" - "+r,s=o.toLowerCase().indexOf(t);s>0?n.push(o):0===s&&i.push(o)}),i.sort(),i.length<10&&n.length>0&&(n.sort(),i=i.concat(n)),r(i.slice(0,10))}};$(".typeahead.coursein").typeahead({name:"courses",source:t(e)})}var e;$.getJSON("data/courses.json",function(r){e=r,$(document).ready(function(){t()})})}(),$.fn.push=function(e){"use strict";return Array.prototype.push.apply(this,$.makeArray($(e))),this};
