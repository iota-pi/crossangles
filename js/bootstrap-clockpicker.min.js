!function(){function h(e){return document.createElementNS(o,e)}function f(e){return(10>e?"0":"")+e}function m(e){var t=++p+"";return e?e+t:t}function S(t,o){function V(e,t){var a=r.offset(),c=/^touch/.test(e.type),d=a.left+g,h=a.top+g,f=(c?e.originalEvent.touches[0]:e).pageX-d,p=(c?e.originalEvent.touches[0]:e).pageY-h,m=Math.sqrt(f*f+p*p),k=!1;if(!t||!(v-b>m||m>v+b)){e.preventDefault();var y=setTimeout(function(){s.addClass("clockpicker-moving")},200);n&&r.append(O.canvas),O.setHand(f,p,!t,!0),i.off(l).on(l,function(e){e.preventDefault();var t=/^touch/.test(e.type),i=(t?e.originalEvent.touches[0]:e).pageX-d,s=(t?e.originalEvent.touches[0]:e).pageY-h;(k||i!==f||s!==p)&&(k=!0,O.setHand(i,s,!1,!0))}),i.off(u).on(u,function(e){i.off(u),e.preventDefault();var n=/^touch/.test(e.type),a=(n?e.originalEvent.changedTouches[0]:e).pageX-d,c=(n?e.originalEvent.changedTouches[0]:e).pageY-h;(t||k)&&a===f&&c===p&&O.setHand(a,c),"hours"===O.currentView?O.toggleView("minutes",w/2):o.autoclose&&(O.minutesView.addClass("clockpicker-dial-out"),setTimeout(function(){O.done()},w/2)),r.prepend(_),clearTimeout(y),s.removeClass("clockpicker-moving"),i.off(l)})}}var a=e(C),r=a.find(".clockpicker-plate"),d=a.find(".clockpicker-hours"),p=a.find(".clockpicker-minutes"),S=a.find(".clockpicker-am-pm-block"),$="INPUT"===t.prop("tagName"),B=$?t:t.find("input"),M=t.find(".input-group-addon"),O=this;if(this.id=m("cp"),this.element=t,this.options=o,this.isAppended=!1,this.isShown=!1,this.currentView="hours",this.isInput=$,this.input=B,this.addon=M,this.popover=a,this.plate=r,this.hoursView=d,this.minutesView=p,this.amPmBlock=S,this.spanHours=a.find(".clockpicker-span-hours"),this.spanMinutes=a.find(".clockpicker-span-minutes"),this.spanAmPm=a.find(".clockpicker-span-am-pm"),this.amOrPm=o.amOrPm||"PM",r.width(y),r.height(y),o.twelvehour,!1){var I=['<div class="clockpicker-am-pm-block">','<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-am-button">',"AM</button>",'<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-pm-button">',"PM</button>","</div>"].join("");e(I);e('<button type="button" class="btn btn-sm btn-default clockpicker-button am-button">AM</button>').on("click",function(){O.amOrPm="AM",e(".clockpicker-span-am-pm").empty().append(" AM"),O.update()}).appendTo(this.amPmBlock),e('<button type="button" class="btn btn-sm btn-default clockpicker-button pm-button">PM</button>').on("click",function(){O.amOrPm="PM",e(".clockpicker-span-am-pm").empty().append(" PM"),O.update()}).appendTo(this.amPmBlock)}o.autoclose||e('<button type="button" class="btn btn-sm btn-default btn-block clockpicker-button">'+o.donetext+"</button>").click(e.proxy(this.done,this)).appendTo(a),"top"!==o.placement&&"bottom"!==o.placement||"top"!==o.align&&"bottom"!==o.align||(o.align="left"),"left"!==o.placement&&"right"!==o.placement||"left"!==o.align&&"right"!==o.align||(o.align="top"),a.addClass(o.placement),a.addClass("clockpicker-align-"+o.align),this.spanHours.click(e.proxy(this.toggleView,this,"hours")),this.spanMinutes.click(e.proxy(this.toggleView,this,"minutes")),B.on("focus.clockpicker click.clockpicker",e.proxy(this.show,this)),M.on("click.clockpicker",e.proxy(this.toggle,this));var H,P,A,D,L=e('<div class="clockpicker-tick"></div>');if(o.twelvehour)for(H=1;24>=H;H+=1)P=L.clone(),A=H/12*Math.PI,D=v,P.css("font-size","120%"),P.css({left:g+Math.sin(A)*D-b,top:g-Math.cos(A)*D-b}),P.html(H%2===0?H/2:""),d.append(P),P.on(c,V);else for(H=0;24>H;H+=1){P=L.clone(),A=H/6*Math.PI;var N=H>0&&13>H;D=N?k:v,P.css({left:g+Math.sin(A)*D-b,top:g-Math.cos(A)*D-b}),N&&P.css("font-size","120%"),P.html(0===H?"00":H),d.append(P),P.on(c,V)}for(H=0;60>H;H+=5)P=L.clone(),A=H/30*Math.PI,P.css({left:g+Math.sin(A)*v-b,top:g-Math.cos(A)*v-b}),P.css("font-size","120%"),P.html(f(H)),p.append(P),P.on(c,V);if(r.on(c,function(t){0===e(t.target).closest(".clockpicker-tick").length&&V(t,!0)}),n){var _=a.find(".clockpicker-canvas"),F=h("svg");F.setAttribute("class","clockpicker-svg"),F.setAttribute("width",y),F.setAttribute("height",y);var j=h("g");j.setAttribute("transform","translate("+g+","+g+")");var J=h("circle");J.setAttribute("class","clockpicker-canvas-bearing"),J.setAttribute("cx",0),J.setAttribute("cy",0),J.setAttribute("r",2);var R=h("line");R.setAttribute("x1",0),R.setAttribute("y1",0);var U=h("circle");U.setAttribute("class","clockpicker-canvas-bg"),U.setAttribute("r",b);var Q=h("circle");Q.setAttribute("class","clockpicker-canvas-fg"),Q.setAttribute("r",3.5),j.appendChild(R),j.appendChild(U),j.appendChild(Q),j.appendChild(J),F.appendChild(j),_.append(F),this.hand=R,this.bg=U,this.fg=Q,this.bearing=J,this.g=j,this.canvas=_}T(this.options.init)}function T(e){e&&"function"==typeof e&&e()}var s,e=window.jQuery,t=e(window),i=e(document),o="http://www.w3.org/2000/svg",n="SVGAngle"in window&&function(){var e,t=document.createElement("div");return t.innerHTML="<svg/>",e=(t.firstChild&&t.firstChild.namespaceURI)==o,t.innerHTML="",e}(),a=function(){var e=document.createElement("div").style;return"transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"OTransition"in e}(),r="ontouchstart"in window,c="mousedown"+(r?" touchstart":""),l="mousemove.clockpicker"+(r?" touchmove.clockpicker":""),u="mouseup.clockpicker"+(r?" touchend.clockpicker":""),d=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,p=0,g=120,v=100,k=74,b=13,y=2*g,w=a?350:1,C=['<div class="popover clockpicker-popover">','<div class="arrow"></div>','<div class="popover-title">','<span class="clockpicker-span-hours text-primary"></span>'," : ",'<span class="clockpicker-span-minutes"></span>','<span class="clockpicker-span-am-pm"></span>',"</div>",'<div class="popover-content">','<div class="clockpicker-plate">','<div class="clockpicker-canvas"></div>','<div class="clockpicker-dial clockpicker-hours"></div>','<div class="clockpicker-dial clockpicker-minutes clockpicker-dial-out"></div>',"</div>",'<span class="clockpicker-am-pm-block">',"</span>","</div>","</div>"].join("");S.DEFAULTS={"default":"",fromnow:0,placement:"bottom",align:"left",donetext:"Done",autoclose:!1,twelvehour:!1,vibrate:!0},S.prototype.toggle=function(){this[this.isShown?"hide":"show"]()},S.prototype.locate=function(){var e=this.element,t=this.popover,i=e.offset(),s=e.outerWidth(),o=e.outerHeight(),n=this.options.placement,a=this.options.align,r={};switch(t.show(),n){case"bottom":r.top=i.top+o;break;case"right":r.left=i.left+s;break;case"top":r.top=i.top-t.outerHeight();break;case"left":r.left=i.left-t.outerWidth()}switch(a){case"left":r.left=i.left;break;case"right":r.left=i.left+s-t.outerWidth();break;case"top":r.top=i.top;break;case"bottom":r.top=i.top+o-t.outerHeight()}t.css(r)},S.prototype.show=function(o){if(!this.isShown){T(this.options.beforeShow);var n=this;if(this.isAppended||(s=e(document.body).append(this.popover),t.on("resize.clockpicker"+this.id,function(){n.isShown&&n.locate()}),this.isAppended=!0),void 0===this.hours){var a=((this.input.prop("value")||this.options["default"]||"")+"").split(":");if("now"===a[0]){var r=new Date(+new Date+this.options.fromnow);a=[r.getHours(),r.getMinutes()]}this.hours=+a[0]||0,this.minutes=+a[1]||0,this.spanHours.html(f(this.hours)),this.spanMinutes.html(f(this.minutes)),this.spanAmPm.html(" "+this.amOrPm)}this.toggleView("hours"),this.locate(),this.isShown=!0,i.on("click.clockpicker."+this.id+" focusin.clockpicker."+this.id,function(t){var i=e(t.target);0===i.closest(n.popover).length&&0===i.closest(n.addon).length&&0===i.closest(n.input).length&&n.hide()}),i.on("keyup.clockpicker."+this.id,function(e){(27===e.keyCode||13===e.keyCode)&&n.hide()}),T(this.options.afterShow)}},S.prototype.hide=function(){T(this.options.beforeHide),this.isShown=!1,i.off("click.clockpicker."+this.id+" focusin.clockpicker."+this.id),i.off("keyup.clockpicker."+this.id),this.popover.hide(),T(this.options.afterHide)},S.prototype.toggleView=function(t,i){var s=!1;t="hours","minutes"===t&&"visible"===e(this.hoursView).css("visibility")&&(T(this.options.beforeHourSelect),s=!0);var o="hours"===t,n=o?this.hoursView:this.minutesView,a=o?this.minutesView:this.hoursView;this.currentView=t,this.spanHours.toggleClass("text-primary",o),this.spanMinutes.toggleClass("text-primary",!o),a.addClass("clockpicker-dial-out"),n.css("visibility","visible").removeClass("clockpicker-dial-out"),this.resetClock(i),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){a.css("visibility","hidden")},w),T(this.options.afterHourSelect)},S.prototype.resetClock=function(e){var t=this.currentView,i=this.hours+this.minutes/60,s="hours"===t,o=Math.PI/(s?6:30),a=i*o,r=s&&i>0&&13>i?k:v,c=Math.sin(a)*r,l=-Math.cos(a)*r,u=this;n&&e?(u.canvas.addClass("clockpicker-canvas-out"),setTimeout(function(){u.canvas.removeClass("clockpicker-canvas-out"),u.setHand(c,l)},e)):this.setHand(c,l)},S.prototype.setHand=function(t,i,s,o){var g,a=Math.atan2(t,-i),r="hours"===this.currentView,c=!0,l=Math.PI/(c&&r?12:r||s?6:30),u=Math.sqrt(t*t+i*i),h=this.options,p=r&&(v+k)/2>u,m=p?k:v;if(h.twelvehour&&(m=v),0>a&&(a=2*Math.PI+a),g=Math.round(a/l),a=g*l,c&&(g/=2),h.twelvehour?r?1>g&&(g+=12):(s&&(g*=5),60===g&&(g=0)):r?(12===g&&(g=0),g=p?0===g?12:g:0===g?0:g+12):(s&&(g*=5),60===g&&(g=0)),this[this.currentView]!==g&&d&&this.options.vibrate&&(this.vibrateTimer||(navigator[d](10),this.vibrateTimer=setTimeout(e.proxy(function(){this.vibrateTimer=null},this),100))),c?(this.hours=Math.floor(g),this.spanHours.html(this.hours),this.minutes=g%1>0?30:0,this.spanMinutes.html(f(this.minutes))):(this[this.currentView]=g,this[r?"spanHours":"spanMinutes"].html(f(g))),this.update(),!n)return void this[r?"hoursView":"minutesView"].find(".clockpicker-tick").each(function(){var t=e(this);t.toggleClass("active",g===+t.html())});o||!r&&g%5?(this.g.insertBefore(this.hand,this.bearing),this.g.insertBefore(this.bg,this.fg),this.bg.setAttribute("class","clockpicker-canvas-bg clockpicker-canvas-bg-trans")):(this.g.insertBefore(this.hand,this.bg),this.g.insertBefore(this.fg,this.bg),this.bg.setAttribute("class","clockpicker-canvas-bg"));var b=Math.sin(a)*m,y=-Math.cos(a)*m;this.hand.setAttribute("x2",b),this.hand.setAttribute("y2",y),this.bg.setAttribute("cx",b),this.bg.setAttribute("cy",y),this.fg.setAttribute("cx",b),this.fg.setAttribute("cy",y)},S.prototype.done=function(){T(this.options.beforeDone),this.hide(),this.update(),this.options.autoclose&&this.input.trigger("blur"),T(this.options.afterDone)},S.prototype.update=function(){T(this.options.beforeUpdate),this.options.breakHour&&(this.hours%12+this.minutes/60<this.options.breakHour&&"AM"===this.amOrPm?this.amOrPm="PM":this.hours%12+this.minutes/60>=this.options.breakHour&&"PM"===this.amOrPm&&(this.amOrPm="AM")),e(".clockpicker-span-am-pm").empty().append(" "+this.amOrPm);var t=this.input.prop("value"),i=f(this.hours)+":"+f(this.minutes);this.options.twelvehour&&(i=i+" "+this.amOrPm),this.input.prop("value",i),i!==t&&(this.input.triggerHandler("change"),this.isInput||this.element.trigger("change")),T(this.options.afterUpdate)},S.prototype.remove=function(){this.element.removeData("clockpicker"),this.input.off("focus.clockpicker click.clockpicker"),this.addon.off("click.clockpicker"),this.isShown&&this.hide(),this.isAppended&&(t.off("resize.clockpicker"+this.id),this.popover.remove())},e.fn.clockpicker=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=e(this),o=s.data("clockpicker");if(o)"function"==typeof o[t]&&o[t].apply(o,i);else{var n=e.extend({},S.DEFAULTS,s.data(),"object"==typeof t&&t);s.data("clockpicker",new S(s,n))}})}}();
