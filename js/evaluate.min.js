function timetableToArray(e,t){"use strict";var r,s,i,u,a,l,n=[[],[],[],[],[]],o=["M","T","W","H","F"];for(r=0;r<e.length;r+=1)for(i=e[r].time,s=0;s<i.length;s+=1)for(u=i[s],a=o.indexOf(u[0]),l=u[1];l<u[2];l+=.5)void 0===n[a][2*l]&&(n[a][2*l]=[]),n[a][2*l].push(e[r].course);return n}function scoreFreeDays(e){"use strict";var o,t=[120,100,180,100,150],n=0;for(o=0;o<e.length;o+=1)0===e[o].length&&(n+=t[o]);return n}function scoreClashes(e){"use strict";var o,r,t=-200,n=0;for(o=0;o<e.length;o+=1)for(r=0;r<e[o].length;r+=1)void 0!==e[o][r]&&e[o][r].length>1&&(n+=t*(e[o][r].length-1));return n}function scoreClassTime(e,t){"use strict";var n=-((e-14)*(e-14))+9,o=-((t-14)*(t-14))+9;return Math.min(n,o,0)}function scoreTimes(e){"use strict";var n,o,r,t=0;for(n=0;n<e.length;n+=1)for(r=e[n].time,o=0;o<r.length;o+=1)t+=scoreClassTime(r[o][1],r[o][2]);return t}function scoreProximity(e){"use strict";var o,r,t=50,n=0;for(o=0;o<e.length;o+=1)for(r=0;r<e[o].length;r+=1)void 0!==e[o][r]&&-1!==e[o][r].indexOf("CBS")&&(void 0!==e[o][r-1]&&(n+=t),void 0!==e[o][r+1]&&(n+=t));return n}function scoreDayLength(e){"use strict";var o,r,t=-5,n=0;for(o=0;o<e.length;o+=1)if(e[o].length>0){for(r=0;r<e[o].length&&void 0===e[o][r];r+=1);n+=t*(e[o].length-r)}return n}function scoreTimetable(e,t){"use strict";if(null===e)return null;var n=e.map(function(e,n){return t[n][e]}),o=timetableToArray(n,t),r=0;return r+=scoreFreeDays(o),r+=scoreClashes(o),r+=scoreTimes(n),r+=scoreProximity(o),r+=scoreDayLength(o)}
