function timetableToArray(e,t){"use strict";var o,s,r,a,u,c,i=[[],[],[],[],[]],n=["M","T","W","H","F"];for(o=0;o<e.length;o+=1)for(r=e[o].time,s=0;s<r.length;s+=1)for(a=r[s],u=n.indexOf(a[0]),c=a[1];c<a[2];c+=.5)void 0===i[u][2*c]&&(i[u][2*c]=[]),i[u][2*c].push(e[o].course+"|"+e[o].component);return i}function scoreFreeDays(e){"use strict";var n,t=[120,100,180,100,150],i=0;for(n=0;n<e.length;n+=1)0===e[n].length&&(i+=t[n]);return i}function scoreClashes(e){"use strict";var n,o,t=-200,i=0;for(n=0;n<e.length;n+=1)for(o=0;o<e[n].length;o+=1)void 0!==e[n][o]&&e[n][o].length>1&&(i+=t*(e[n][o].length-1));return i}function scoreClassTime(e,t){"use strict";var i=-((e-14)*(e-14))+9,n=-((t-14)*(t-14))+9;return Math.min(i,n,0)}function scoreTimes(e){"use strict";var i,n,o,t=0;for(i=0;i<e.length;i+=1)for(o=e[i].time,n=0;n<o.length;n+=1)t+=scoreClassTime(o[n][1],o[n][2]);return t}function scoreProximity(e){"use strict";var n,o,s,t=25,i=0;for(n=0;n<e.length;n+=1)for(o=0;o<e[n].length;o+=1)if(void 0!==e[n][o])for(s=0;s<e[n][o].length;s+=1)-1!==e[n][o][s].indexOf("CBS")&&(void 0!==e[n][o-1]&&(i+=t),void 0!==e[n][o+1]&&(i+=t));return i}function scoreDayLength(e){"use strict";var n,o,t=-5,i=0;for(n=0;n<e.length;n+=1)if(e[n].length>0){for(o=0;o<e[n].length&&void 0===e[n][o];o+=1);i+=t*(e[n].length-o)}return i}function scoreArvoTeaGap(e){var i,n,o,t=30;for(i=0;i<e.length;i+=1)for(n=0;n<e[i].length;n+=1)if(void 0!==e[i][n])for(o=0;o<e[i][n].length;o+=1)if(-1!==e[i][n][o].indexOf("CBS")&&-1!==e[i][n][o].indexOf("The Bible Talks")&&void 0===e[i][n+2])return t;return 0}function scoreTimetable(e,t){"use strict";if(null===e)return null;var i=e.map(function(e,i){return t[i][e]}),n=timetableToArray(i,t),o=0;return o+=scoreFreeDays(n),o+=scoreClashes(n),o+=scoreTimes(i),o+=scoreProximity(n),o+=scoreDayLength(n),o+=scoreArvoTeaGap(n)}
