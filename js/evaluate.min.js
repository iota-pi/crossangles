function timetableToArray(e,t){"use strict";var s,i,o,u,l,f,r=[[],[],[],[],[]],n=["M","T","W","H","F"];for(s=0;s<e.length;s+=1)for(o=e[s].time,i=0;i<o.length;i+=1)for(u=o[i],l=n.indexOf(u[0]),f=u[1];f<u[2];f+=.5)void 0===r[l][2*f]&&(r[l][2*f]=[]),r[l][2*f].push(e[s].course);return r}function scoreFreeDays(e){"use strict";var n,t=[120,100,180,100,150],r=0;for(n=0;n<e.length;n+=1)0===e[n].length&&(r+=t[n]);return r}function scoreClashes(e){"use strict";var n,s,t=-500,r=0;for(n=0;n<e.length;n+=1)for(s=0;s<e[n].length;s+=1)void 0!==e[n][s]&&e[n][s].length>1&&(r+=t);return r}function scoreClassTime(e,t){"use strict";var r=-((e-14)*(e-14))+9,n=-((t-14)*(t-14))+9;return Math.min(r,n,0)}function scoreTimes(e){"use strict";var r,n,s,t=0;for(r=0;r<e.length;r+=1)for(s=e[r].time,n=0;n<s.length;n+=1)t+=scoreClassTime(s[n][1],s[n][2]);return t}function scoreProximity(e){"use strict";var n,s,t=50,r=0;for(n=0;n<e.length;n+=1)for(s=0;s<e[n].length;s+=1)void 0!==e[n][s]&&-1!==e[n][s].indexOf("CBS")&&(void 0!==e[n][s-1]&&(r+=t),void 0!==e[n][s+1]&&(r+=t));return r}function scoreDayLength(e){"use strict";var n,s,t=-5,r=0;for(n=0;n<e.length;n+=1)if(e[n].length>0){for(s=0;s<e[n].length&&void 0===e[n][s];s+=1);r+=t*(e[n].length-s)}return r}function scoreTimetable(e,t){"use strict";if(null===e)return null;var r=e.map(function(e,r){return t[r][e]}),n=timetableToArray(r,t),s=0;return s+=scoreFreeDays(n),s+=scoreClashes(n),s+=scoreTimes(r),s+=scoreProximity(n),s+=scoreDayLength(n)}
