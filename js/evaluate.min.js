function timetableToArray(e,t){"use strict";var n,i,o,r,c,l,a=[[],[],[],[],[]],s=["M","T","W","H","F"];for(n=0;n<e.length;n+=1)for(o=e[n].time,i=0;i<o.length;i+=1)for(r=o[i],c=s.indexOf(r[0]),l=r[1];l<r[2];l+=.5)void 0===a[c][2*l]&&(a[c][2*l]=[]),a[c][2*l].push(e[n].course+"|"+e[n].component);return a}function scoreFreeDays(e){"use strict";var s,t=[120,100,180,100,150],a=0;for(s=0;s<e.length;s+=1)0===e[s].length&&(a+=t[s]);return a}function scoreClashes(e){"use strict";var s,n,t=-200,a=0;for(s=0;s<e.length;s+=1)for(n=0;n<e[s].length;n+=1)void 0!==e[s][n]&&e[s][n].length>1&&(a+=t*(e[s][n].length-1));return a}function scoreClassTime(e,t){"use strict";var a=-((e-14)*(e-14))+9,s=-((t-14)*(t-14))+9;return Math.min(a,s,0)}function scoreTimes(e){"use strict";var a,s,n,t=0;for(a=0;a<e.length;a+=1)for(n=e[a].time,s=0;s<n.length;s+=1)t+=scoreClassTime(n[s][1],n[s][2]);return t}function scoreProximity(e){"use strict";var s,n,i,t=25,a=0;for(s=0;s<e.length;s+=1)for(n=0;n<e[s].length;n+=1)if(void 0!==e[s][n])for(i=0;i<e[s][n].length;i+=1)-1!==e[s][n][i].indexOf("CBS")&&(void 0!==e[s][n-1]&&(a+=t),void 0!==e[s][n+1]&&(a+=t));return a}function scoreDayLength(e){"use strict";var s,n,t=-5,a=0;for(s=0;s<e.length;s+=1)if(e[s].length>0){for(n=0;n<e[s].length&&void 0===e[s][n];n+=1);a+=t*(e[s].length-n)}return a}function scoreArvoTeaGap(e){var a,s,n,t=30;for(a=0;a<e.length;a+=1)for(s=0;s<e[a].length;s+=1)if(void 0!==e[a][s])for(n=0;n<e[a][s].length;n+=1)if(-1!==e[a][s][n].indexOf("CBS")&&-1!==e[a][s][n].indexOf("The Bible Talks")&&void 0===e[a][s+2])return t;return 0}function scoreTimetable(e,t){"use strict";if(null===e)return null;var a=e.map(function(e,a){return t[a][e]}),s=timetableToArray(a,t),n=0;return n+=scoreFreeDays(s),n+=scoreClashes(s),n+=scoreTimes(a),n+=scoreProximity(s),n+=scoreDayLength(s),n+=scoreArvoTeaGap(s)}
