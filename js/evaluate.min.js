function timetableToArray(e,r){"use strict";var i,s,o,l,u,f,t=[[],[],[],[],[]],n=["M","T","W","H","F"];for(i=0;i<e.length;i+=1)for(o=e[i][0],s=0;s<o.length;s+=1)for(l=o[s],u=n.indexOf(l[0]),f=l[1];f<l[2];f+=.5)void 0===t[u][2*f]&&(t[u][2*f]=[]),t[u][2*f].push(e[i][3]);return t}function scoreFreeDays(e){"use strict";var n,r=[120,100,180,100,150],t=0;for(n=0;n<e.length;n+=1)0===e[n].length&&(t+=r[n]);return t}function scoreClashes(e,r){"use strict";var i,s,t=-500,n=0;for(i=0;i<e.length;i+=1)for(s=0;s<e[i].length;s+=1)void 0!==e[i][s]&&e[i][s].length>1&&(n+=t);return n}function scoreClassTime(e,r){"use strict";var t=-((e-14)*(e-14))+9,n=-((r-14)*(r-14))+9;return Math.min(t,n,0)}function scoreTimes(e){"use strict";var t,n,i,r=0;for(t=0;t<e.length;t+=1)for(i=e[t][0],n=0;n<i.length;n+=1)r+=scoreClassTime(i[n][1],i[n][2]);return r}function scoreProximity(e){"use strict";var n,i,r=50,t=0;for(n=0;n<e.length;n+=1)for(i=0;i<e[n].length;i+=1)void 0!==e[n][i]&&-1!==e[n][i].indexOf("CBS")&&(void 0!==e[n][i-1]&&(t+=r),void 0!==e[n][i+1]&&(t+=r));return t}function scoreDayLength(e){"use strict";var n,i,r=-5,t=0;for(n=0;n<e.length;n+=1)if(e[n].length>0){for(i=0;i<e[n].length&&void 0===e[n][i];i+=1);t+=r*(e[n].length-i)}return t}function scoreTimetable(e,r){"use strict";if(null===e)return null;var t=e.map(function(e,t){return r[t][e]}),n=timetableToArray(t,r),i=0;return i+=scoreFreeDays(n),i+=scoreClashes(n,t),i+=scoreTimes(t),i+=scoreProximity(n),i+=scoreDayLength(n)}
