function timetableToArray(e,t){"use strict";var n,s,a,i,f,u,r=[[],[],[],[],[]],l=["M","T","W","H","F"];for(n=0;n<e.length;n+=1)for(a=e[n][0],s=0;s<a.length;s+=1)for(i=a[s],f=l.indexOf(i[0]),u=i[1];u<i[2];u+=.5)void 0===r[f][2*u]&&(r[f][2*u]=[]),r[f][2*u].push(e[n][3]);return r}function scoreFreeDays(e){"use strict";var l,t=[120,100,180,100,150],r=0;for(l=0;l<e.length;l+=1)0===e[l].length&&(r+=t[l]);return r}function scoreClashes(e){"use strict";var l,n,t=-500,r=0;for(l=0;l<e.length;l+=1)for(n=0;n<e[l].length;n+=1)void 0!==e[l][n]&&e[l][n].length>1&&(r+=t);return r}function scoreClassTime(e,t){"use strict";var r=-((e-14)*(e-14)+9),l=-((t-14)*(t-14)+9);return Math.min(r,l,0)}function scoreTimes(e){"use strict";var r,l,n,t=0;for(r=0;r<e.length;r+=1)for(n=e[r][0],l=0;l<n.length;l+=1)t+=scoreClassTime(n[l][1],n[l][2]);return t}function scoreProximity(e){"use strict";var l,n,t=50,r=0;for(l=0;l<e.length;l+=1)for(n=0;n<e[l].length;n+=1)void 0!==e[l][n]&&-1!==e[l][n].indexOf("CBS")&&(void 0!==e[l][n-1]&&(r+=t),void 0!==e[l][n+1]&&(r+=t));return console.log("scoreProximity() =",r),r}function scoreTimetable(e,t){"use strict";if(null===e)return null;var r=e.map(function(e,r){return t[r][e]}),l=timetableToArray(r,t),n=0;return console.log(l),n+=scoreFreeDays(l),n+=scoreClashes(l),n+=scoreTimes(r),n+=scoreProximity(r)}
