function timetableToArray(e,t){"use strict";var o,a,i,r,c,l,n=[[],[],[],[],[]],s=["M","T","W","H","F"];for(o=0;o<e.length;o+=1)for(i=e[o].time,a=0;a<i.length;a+=1)for(r=i[a],c=s.indexOf(r[0]),l=r[1];l<r[2];l+=.5)void 0===n[c][2*l]&&(n[c][2*l]=[]),n[c][2*l].push(e[o].course+"|"+e[o].component);return n}function scoreFreeDays(e){"use strict";var s,t=[120,100,180,100,150],n=0;for(s=0;s<e.length;s+=1)0===e[s].length&&(n+=t[s]);return n}function scoreClashes(e){"use strict";var s,o,t=-200,n=0;for(s=0;s<e.length;s+=1)for(o=0;o<e[s].length;o+=1)void 0!==e[s][o]&&e[s][o].length>1&&(n+=t*(e[s][o].length-1));return n}function scoreClassTime(e,t){"use strict";var n=-((e-14)*(e-14))+9,s=-((t-14)*(t-14))+9;return Math.min(n,s,0)}function scoreTimes(e){"use strict";var n,s,o,t=0;for(n=0;n<e.length;n+=1)for(o=e[n].time,s=0;s<o.length;s+=1)t+=scoreClassTime(o[s][1],o[s][2]);return t}function scoreProximity(e){"use strict";var s,o,a,t=50,n=0;for(s=0;s<e.length;s+=1)for(o=0;o<e[s].length;o+=1)if(void 0!==e[s][o])for(a=0;a<e[s][o].length;a+=1)-1!==e[s][o][a].indexOf("CBS")&&(void 0!==e[s][o-1]&&(n+=t),void 0!==e[s][o+1]&&(n+=t));return n}function scoreDayLength(e){"use strict";var s,o,t=-5,n=0;for(s=0;s<e.length;s+=1)if(e[s].length>0){for(o=0;o<e[s].length&&void 0===e[s][o];o+=1);n+=t*(e[s].length-o)}return n}function scoreArvoTeaGap(e){var n,s,o,t=20;for(n=0;n<e.length;n+=1)for(s=0;s<e[n].length;s+=1)if(void 0!==e[n][s])for(o=0;o<e[n][s].length;o+=1)if(-1!==e[n][s][o].indexOf("CBS")&&-1!==e[n][s][o].indexOf("The Bible Talks")&&void 0===e[n][s+2])return t;return 0}function scoreTimetable(e,t){"use strict";if(null===e)return null;var n=e.map(function(e,n){return t[n][e]}),s=timetableToArray(n,t),o=0;return o+=scoreFreeDays(s),o+=scoreClashes(s),o+=scoreTimes(n),o+=scoreProximity(s),o+=scoreDayLength(s),o+=scoreArvoTeaGap(s)}
