function timetableToArray(e,r){"use strict";var l,s,i,u,o,a,t=[[],[],[],[],[]],n=["M","T","W","H","F"];for(l=0;l<e.length;l+=1)for(i=e[l][0],s=0;s<i.length;s+=1)for(u=i[s],o=n.indexOf(u[0]),a=u[1];a<u[2];a+=.5)void 0===t[o][2*a]&&(t[o][2*a]=[]),t[o][2*a].push(e[l][3]);return t}function scoreFreeDays(e){"use strict";var n,r=[120,100,180,100,150],t=0;for(n=0;n<e.length;n+=1)0===e[n].length&&(t+=r[n]);return t}function scoreClashes(e,r){"use strict";var l,s,t=-500,n=0;for(l=0;l<e.length;l+=1)for(s=0;s<e[l].length;s+=1)void 0!==e[l][s]&&e[l][s].length>1&&(n+=t);return n}function scoreClassTime(e,r){"use strict";var t=-((e-14)*(e-14)+9),n=-((r-14)*(r-14)+9);return Math.min(t,n,0)}function scoreTimes(e){"use strict";var t,n,l,r=0;for(t=0;t<e.length;t+=1)for(l=e[t][0],n=0;n<l.length;n+=1)r+=scoreClassTime(l[n][1],l[n][2]);return r}function scoreProximity(e){"use strict";var n,l,r=50,t=0;for(n=0;n<e.length;n+=1)for(l=0;l<e[n].length;l+=1)void 0!==e[n][l]&&-1!==e[n][l].indexOf("CBS")&&(void 0!==e[n][l-1]&&(t+=r),void 0!==e[n][l+1]&&(t+=r));return t}function scoreTimetable(e,r){"use strict";if(null===e)return null;var t=e.map(function(e,t){return r[t][e]}),n=timetableToArray(t,r),l=0;return l+=scoreFreeDays(n),l+=scoreClashes(n,t),l+=scoreTimes(t),l+=scoreProximity(n)}
