function timetableToArray(e,r){"use strict";var s,i,o,l,u,f,t=[[],[],[],[],[]],n=["M","T","W","H","F"];for(s=0;s<e.length;s+=1)for(o=e[s][0],i=0;i<o.length;i+=1)for(l=o[i],u=n.indexOf(l[0]),f=l[1];f<l[2];f+=.5)void 0===t[u][2*f]&&(t[u][2*f]=[]),t[u][2*f].push(e[s][3]);return t}function scoreFreeDays(e){"use strict";var n,r=[120,100,180,100,150],t=0;for(n=0;n<e.length;n+=1)0===e[n].length&&(t+=r[n]);return t}function scoreClashes(e,r){"use strict";var s,i,t=-500,n=0;for(s=0;s<e.length;s+=1)for(i=0;i<e[s].length;i+=1)void 0!==e[s][i]&&e[s][i].length>1&&(n+=t);return 0!==n&&console.log(e,r),n}function scoreClassTime(e,r){"use strict";var t=-((e-14)*(e-14)+9),n=-((r-14)*(r-14)+9);return Math.min(t,n,0)}function scoreTimes(e){"use strict";var t,n,s,r=0;for(t=0;t<e.length;t+=1)for(s=e[t][0],n=0;n<s.length;n+=1)r+=scoreClassTime(s[n][1],s[n][2]);return r}function scoreProximity(e){"use strict";var n,s,r=50,t=0;for(n=0;n<e.length;n+=1)for(s=0;s<e[n].length;s+=1)void 0!==e[n][s]&&-1!==e[n][s].indexOf("CBS")&&(void 0!==e[n][s-1]&&(t+=r),void 0!==e[n][s+1]&&(t+=r));return t}function scoreTimetable(e,r){"use strict";if(null===e)return null;var t=e.map(function(e,t){return r[t][e]}),n=timetableToArray(t,r),s=0;return s+=scoreFreeDays(n),s+=scoreClashes(n,t),s+=scoreTimes(t),s+=scoreProximity(n)}
