function generate(e){"use strict";function n(){var t,r,o,a,i,l,u,n=[];for(t in e)if(e.hasOwnProperty(t))for(r=e[t],l=0;l<r.length;l+=1){for(o=r[l],a=o[3],i=[],u=0;u<a.length;u+=1)i.push(a[u][0]);i=i.join(","),n.push([t,i,o[0],o[1],o[2]])}return n}function r(e,n){function s(e,n){var t=e[1].replace(/[^\d\-,]/g,"").split(/[,\-]/).map(function(e){return+e}),o=n[1].replace(/[^\d\-,]/g,"").split(/[,\-]/).map(function(e){return+e}),a=function(e){return r.indexOf(e)},i=Math.max.apply(null,t.map(a)),l=Math.max.apply(null,o.map(a));return i-l}function f(e,n){var t=e[1].replace(/[\d\- ]/g,"").split(","),r=n[1].replace(/[\d\- ]/g,"").split(","),a=function(e){return o.indexOf(e)},i=Math.max.apply(null,t.map(a)),l=Math.max.apply(null,r.map(a));return i-l}function c(e,n){var t=a[e[0]+e[2]],r=a[n[0]+n[2]];return t-r}function g(e,n){return e[3]===n[3]?0:"O"===e[3]?-1:1}var i,l,u,p,r=[12,13,14,11,15,16,10,17,18,19,20,9,21,22,23,8,7,6,5,4,3,2,1,0],o=["M","T","H","F","W","S","s"],a={};for(i=0;i<t.length;i+=1)l=t[i][0]+t[i][2],a.hasOwnProperty(l)?a[l]+=1:a[l]=1;for(u=0,p=[g,c,s,f];0===u&&(u=p.shift()(e,n),0!==p.length););return u}var t=n();t.sort(r)}function generateTimetable(){"use strict";var e="courses="+encodeURI(JSON.stringify(getCourses()));$.getJSON("data.php",e,generate)
