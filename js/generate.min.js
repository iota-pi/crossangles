function fetchData(e){"use strict";var t="courses="+encodeURI(JSON.stringify(courseList)),r=[];$.getJSON("data.php",t,function(t){function n(e,t){function l(e,t){var s=e[0].replace(/[^\d\-,.]/g,"").split(/[,\-]/).map(function(e){return Math.ceil(+e)}),n=t[0].replace(/[^\d\-,.]/g,"").split(/[,\-]/).map(function(e){return Math.ceil(+e)}),i=function(e){return r.indexOf(e)},a=Math.max.apply(null,s.map(i)),o=Math.max.apply(null,n.map(i));return a-o}function u(e,t){var r=e[0].replace(/[\d\- ]/g,"").split(","),n=t[0].replace(/[\d\- ]/g,"").split(","),i=function(e){return s.indexOf(e)},a=Math.max.apply(null,r.map(i)),o=Math.max.apply(null,n.map(i));return a-o}function d(e,t){return e[1]===t[1]?0:"O"===e[1]?-1:1}var o,c,r=[12,13,14,11,15,16,10,17,18,19,20,9,21,22,23,8,7,6,5,4,3,2,1,0],s=["M","T","H","F","W","S","s"];for(o=0,c=[d,l,u];0===o&&(o=c.shift()(e,t),0!==c.length););return o}var s={};!function(){var e,r,n,i,a,o,c;for(e in t)if(t.hasOwnProperty(e))for(s[e]={},r=t[e],o=0;o<r.length;o+=1){for(n=r[o],i=n[3],a=[],c=0;c<i.length;c+=1)a.push(i[c][0]);a=a.join(","),s[e].hasOwnProperty(n[0])||(s[e][n[0]]=[]),s[e][n[0]].push([a,n[1],n[2],e,n[0]])}}(),function(){var e,t;for(e in s)if(s.hasOwnProperty(e))for(t in s[e])s[e].hasOwnProperty(t)&&r.push([s[e][t].sort(n),s[e][t].length]);r.sort(function(e,t){return e[1]-t[1]}),r=r.map(function(e){return e[0]})}(),e(r)})}function generate(){"use strict";fetchData(function(e){function t(e,t){return e[0]!==t[0]?!1:(e=e.replace(/[^\d\-.]/g,"").split("-"),t=t.replace(/[^\d\-.]/g,"").split("-"),1===e.length&&(e[1]=e[0]),1===t.length&&(t[1]=t[0]),e[0]>=t[1]&&e[0]>t[0]||t[0]>=e[1]&&t[0]>e[0]?!1:!0)}function r(r,s){var n,i,a,o,c,l=s.split(",");for(n=0;n<l.length;n+=1)for(i=0;i<r.length;i+=1)for(o=e[i][r[i]],c=o[0].split(","),a=0;a<c.length;a+=1)if(t(l[n],c[a]))return!0;return!1}function s(){for(var n,i,t=[],s=0;s<e.length;){for(n=e[s],i=t[s]||0;r(t,n[i][0])&&(i+=1,i!==n.length););if(i===n.length){if(t[s]=0,t.pop(),s-=1,0>s)return console.error("Could not generate timetable! Some clashes could not be resolved."),null}else t[s]=i,s+=1}return t=t.map(function(t,r){return e[r][t]})}var i,a,o,c,l,n=s();for(i=0;i<classList.length;i+=1)classList[i].remove();for(i=0;i<n.length;i+=1)o=n[i],c=o[3]+": "+o[4],createClass(o[0],c);for(l=[],i=0;i<e.length;i+=1)for(a=0;a<e[i].length;a+=1)-1===l.indexOf(e[i][a][0]+e[i][a][3]+e[i][a][4])&&(l.push(e[i][a][0]+e[i][a][3]+e[i][a][4]),createShadow(e[i][a][0],e[i][a][3]+e[i][a][4]))})}
