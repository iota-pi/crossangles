function generate(r){"use strict";function n(){var t,e,a,i,u,l,f,n={};for(t in r)if(r.hasOwnProperty(t))for(n[t]={},e=r[t],l=0;l<e.length;l+=1){for(a=e[l],i=a[3],u=[],f=0;f<i.length;f+=1)u.push(i[f][0]);u=u.join(","),n[t].hasOwnProperty(a[0])||(n[t][a[0]]=[]),n[t][a[0]].push([u,a[1],a[2]])}return n}function t(r,n){function p(r,n){var e=r[0].replace(/[^\d\-,]/g,"").split(/[,\-]/).map(function(r){return+r}),a=n[0].replace(/[^\d\-,]/g,"").split(/[,\-]/).map(function(r){return+r}),i=function(r){return t.indexOf(r)},u=Math.max.apply(null,e.map(i)),l=Math.max.apply(null,a.map(i));return u-l}function o(r,n){var t=r[0].replace(/[\d\- ]/g,"").split(","),a=n[0].replace(/[\d\- ]/g,"").split(","),i=function(r){return e.indexOf(r)},u=Math.max.apply(null,t.map(i)),l=Math.max.apply(null,a.map(i));return u-l}function s(r,n){return r[1]===n[1]?0:"O"===r[1]?-1:1}var l,f,t=[12,13,14,11,15,16,10,17,18,19,20,9,21,22,23,8,7,6,5,4,3,2,1,0],e=["M","T","H","F","W","S","s"];for(l=0,f=[s,p,o];0===l&&(l=f.shift()(r,n),0!==f.length););return l}var a,i,e=n();for(a in e)if(e.hasOwnProperty(a))for(i in e[a])e[a].hasOwnProperty(i)&&e[a][i].sort(t);console.log(e)}function generateTimetable(){"use strict";var r="courses="+encodeURI(JSON.stringify(getCourses()));$.getJSON("data.php",r,generate)}
