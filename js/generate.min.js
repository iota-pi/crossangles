function fetchData(e){"use strict";var n="courses="+encodeURI(JSON.stringify(courseList)),t=[];$.getJSON("data.php",n,function(n){function i(e,n){function l(e,n){var r=e[0].replace(/[^\d\-,.]/g,"").split(/[,\-]/).map(function(e){return Math.ceil(+e)}),i=n[0].replace(/[^\d\-,.]/g,"").split(/[,\-]/).map(function(e){return Math.ceil(+e)}),o=function(e){return t.indexOf(e)},s=Math.max.apply(null,r.map(o)),a=Math.max.apply(null,i.map(o));return s-a}function u(e,n){var t=e[0].replace(/[\d\- ]/g,"").split(","),i=n[0].replace(/[\d\- ]/g,"").split(","),o=function(e){return r.indexOf(e)},s=Math.max.apply(null,t.map(o)),a=Math.max.apply(null,i.map(o));return s-a}function f(e,n){return e[1]===n[1]?0:"O"===e[1]?-1:1}var a,c,t=[12,13,14,11,15,16,10,17,18,19,20,9,21,22,23,8,7,6,5,4,3,2,1,0],r=["M","T","H","F","W","S","s"];for(a=0,c=[f,l,u];0===a&&(a=c.shift()(e,n),0!==c.length););return a}var r={};!function(){var e,t,i,o,s,a,c;for(e in n)if(n.hasOwnProperty(e))for(r[e]={},t=n[e],a=0;a<t.length;a+=1){for(i=t[a],o=i[3],s=[],c=0;c<o.length;c+=1)s.push(o[c][0]);s=s.join(","),r[e].hasOwnProperty(i[0])||(r[e][i[0]]=[]),r[e][i[0]].push([s,i[1],i[2],e,i[0]])}}(),function(){var e,n;for(e in r)if(r.hasOwnProperty(e))for(n in r[e])r[e].hasOwnProperty(n)&&t.push([r[e][n].sort(i),r[e][n].length]);t.sort(function(e,n){return e[1]-n[1]}),t=t.map(function(e){return e[0]})}(),e(t)})}function generate(){"use strict";fetchData(function(e){function n(e,n){return e[0]!==n[0]?!1:(e=e.replace(/[^\d\-.]/g,"").split("-"),n=n.replace(/[^\d\-.]/g,"").split("-"),1===e.length&&(e[1]=e[0]),1===n.length&&(n[1]=n[0]),e[0]>=n[1]&&e[0]>n[0]||n[0]>=e[1]&&n[0]>e[0]?!1:!0)}function t(t,r){var i,o,s,a,c,l=r.split(",");for(i=0;i<l.length;i+=1)for(o=0;o<t.length;o+=1)for(a=e[o][t[o]],c=a[0].split(","),s=0;s<c.length;s+=1)if(n(l[i],c[s]))return!0;return!1}function r(){for(var i,o,n=[],r=0;r<e.length;){for(i=e[r],o=n[r]||0;t(n,i[o][0])&&(o+=1,o!==i.length););if(o===i.length){if(n[r]=0,n.pop(),r-=1,0>r)return console.error("Could not generate timetable! Some clashes could not be resolved."),null}else n[r]=o,r+=1}return n=n.map(function(n,t){return e[t][n]})}var o,s,a,i=r();for(o=0;o<classList.length;o+=1)classList[o].remove();for(o=0;o<i.length;o+=1)s=i[o],a=s[3]+": "+s[4],createClass(s[0],a)})}
