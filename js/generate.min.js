function generate(r){"use strict";function t(){var n,e,a,i,u,l,f,t={};for(n in r)if(r.hasOwnProperty(n))for(t[n]={},e=r[n],l=0;l<e.length;l+=1){for(a=e[l],i=a[3],u=[],f=0;f<i.length;f+=1)u.push(i[f][0]);u=u.join(","),t[n].hasOwnProperty(a[0])||(t[n][a[0]]=[]),t[n][a[0]].push([u,a[1],a[2],n,a[0]])}return t}function n(r,t){function p(r,t){var e=r[0].replace(/[^\d\-,.]/g,"").split(/[,\-]/).map(function(r){return Math.ceil(+r)}),a=t[0].replace(/[^\d\-,.]/g,"").split(/[,\-]/).map(function(r){return Math.ceil(+r)}),i=function(r){return n.indexOf(r)},u=Math.max.apply(null,e.map(i)),l=Math.max.apply(null,a.map(i));return u-l}function o(r,t){var n=r[0].replace(/[\d\- ]/g,"").split(","),a=t[0].replace(/[\d\- ]/g,"").split(","),i=function(r){return e.indexOf(r)},u=Math.max.apply(null,n.map(i)),l=Math.max.apply(null,a.map(i));return u-l}function s(r,t){return r[1]===t[1]?0:"O"===r[1]?-1:1}var l,f,n=[12,13,14,11,15,16,10,17,18,19,20,9,21,22,23,8,7,6,5,4,3,2,1,0],e=["M","T","H","F","W","S","s"];for(l=0,f=[s,p,o];0===l&&(l=f.shift()(r,t),0!==f.length););return l}function p(){var r=[];return r}var i,u,e=t(),a=[];for(i in e)if(e.hasOwnProperty(i))for(u in e[i])e[i].hasOwnProperty(u)&&a.push([e[i][u].sort(n),e[i][u].length]);return a.sort(function(r,t){return r[1]-t[1]}),a=a.map(function(r){return r[0]}),p()}function generateTimetable(){"use strict";var r="courses="+encodeURI(JSON.stringify(getCourses()));$.getJSON("data.php",r,generate)}
