function fetchData(t){"use strict";var e="courses="+encodeURI(JSON.stringify(courseList)),s=[];$.getJSON("data.php",e,function(e){function r(t,e){function l(t,e){var i=t[0].replace(/[^\d\-,.]/g,"").split(/[,\-]/).map(function(t){return Math.ceil(+t)}),r=e[0].replace(/[^\d\-,.]/g,"").split(/[,\-]/).map(function(t){return Math.ceil(+t)}),a=function(t){return s.indexOf(t)},n=Math.max.apply(null,i.map(a)),o=Math.max.apply(null,r.map(a));return n-o}function u(t,e){var s=t[0].replace(/[\d\- ]/g,"").split(","),r=e[0].replace(/[\d\- ]/g,"").split(","),a=function(t){return i.indexOf(t)},n=Math.max.apply(null,s.map(a)),o=Math.max.apply(null,r.map(a));return n-o}function p(t,e){return t[1]===e[1]?0:"O"===t[1]?-1:1}var o,c,s=[12,13,14,11,15,16,10,17,18,19,20,9,21,22,23,8,7,6,5,4,3,2,1,0],i=["M","T","H","F","W","S","s"];for(o=0,c=[p,l,u];0===o&&(o=c.shift()(t,e),0!==c.length););return o}var i={};!function(){var t,s,r,a,n,o,c;for(t in e)if(e.hasOwnProperty(t))for(i[t]={},s=e[t],o=0;o<s.length;o+=1){for(r=s[o],a=r[3],n=[],c=0;c<a.length;c+=1)n.push(a[c][0]);n=n.join(","),i[t].hasOwnProperty(r[0])||(i[t][r[0]]=[]),i[t][r[0]].push([n,r[1],r[2],t,r[0]])}}(),function(){var t,e;for(t in i)if(i.hasOwnProperty(t))for(e in i[t])i[t].hasOwnProperty(e)&&s.push([i[t][e].sort(r),i[t][e].length]);s.sort(function(t,e){return t[1]-e[1]}),s=s.map(function(t){return t[0]})}(),t(s)})}function generate(){"use strict";fetchData(function(t){function e(t,e){return t[0]!==e[0]?!1:(t=t.replace(/[^\d\-.]/g,"").split("-"),e=e.replace(/[^\d\-.]/g,"").split("-"),1===t.length&&(t[1]=t[0]),1===e.length&&(e[1]=e[0]),t[0]>=e[1]&&t[0]>e[0]||e[0]>=t[1]&&e[0]>t[0]?!1:!0)}function s(s,i){var r,a,n,o,c,l=i.split(",");for(r=0;r<l.length;r+=1)for(a=0;a<s.length;a+=1)for(o=t[a][s[a]],c=o[0].split(","),n=0;n<c.length;n+=1)if(e(l[r],c[n]))return!0;return!1}function i(){for(var r,a,e=[],i=0;i<t.length;){for(r=t[i],a=e[i]||0;s(e,r[a][0])&&(a+=1,a!==r.length););if(a===r.length){if(e[i]=0,e.pop(),i-=1,0>i)return console.error("Could not generate timetable! Some clashes could not be resolved."),null}else e[i]=a,i+=1}return e=e.map(function(e,s){return t[s][e]})}var a,n,o,c,l,r=i();for(a=0;a<classList.length;a+=1)classList[a].remove();for(a=0;a<r.length;a+=1)o=r[a],c=o[3]+": "+o[4],createClass(o[0],c);for(l=[],a=0;a<t.length;a+=1)for(n=0;n<t[a].length;n+=1)-1===l.indexOf(t[a][n][0]+t[a][n][3]+t[a][n][4])&&(l.push(t[a][n][0]+t[a][n][3]+t[a][n][4]),createShadow(t[a][n][0],t[a][n][3]+t[a][n][4]))})}
