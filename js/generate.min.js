function generate(e){"use strict";function n(){var t,r,o,a,l,i,p,n=[];for(t in e)if(e.hasOwnProperty(t))for(r=e[t],i=0;i<r.length;i+=1){for(o=r[i],a=o[3],l=[],p=0;p<a.length;p+=1)l.push(a[p][0]);l=l.join(","),n.push([t,l,o[0],o[1],o[2]])}return n}function r(e,n){function s(e,n){var t=e[1].replace(/[^\d\-,]/g,"").split(/[,\-]/).map(function(e){return+e}),o=n[1].replace(/[^\d\-,]/g,"").split(/[,\-]/).map(function(e){return+e}),a=function(e){return r.indexOf(e)},l=Math.max.apply(null,t.map(a)),i=Math.max.apply(null,o.map(a));return l-i}function f(e,n){var t=e[1].replace(/[\d\- ]/g,"").split(","),r=n[1].replace(/[\d\- ]/g,"").split(","),a=function(e){return o.indexOf(e)},l=Math.max.apply(null,t.map(a)),i=Math.max.apply(null,r.map(a));return l-i}function c(e,n){var t=a[e[0]+e[2]],r=a[n[0]+n[2]];return t-r}function g(e,n){return e[3]===n[3]?0:"O"===e[3]?-1:1}var l,i,p,u,r=[12,13,14,11,15,16,10,17,18,19,20,9,21,22,23,8,7,6,5,4,3,2,1,0],o=["M","T","H","F","W"],a={};for(l=0;l<t.length;l+=1)i=t[l][0]+t[l][2],a.hasOwnProperty(i)?a[i]+=1:a[i]=1;for(p=0,u=[g,c,s,f];0===p&&(p=u.shift()(e,n),0!==u.length););return p}var t=n();t.sort(r),console.log(t)}function generateTimetable(){"use strict";var e="courses="+encodeURI(JSON.stringify(getCourses()));$.getJSON("data.php",e,generate)}
