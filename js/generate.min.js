function generate(r){"use strict";function n(){var t,e,a,i,u,f,l,n={};for(t in r)if(r.hasOwnProperty(t))for(n[t]={},e=r[t],f=0;f<e.length;f+=1){for(a=e[f],i=a[3],u=[],l=0;l<i.length;l+=1)u.push(i[l][0]);u=u.join(","),n[t].hasOwnProperty(a[0])||(n[t][a[0]]=[]),n[t][a[0]].push([u,a[1],a[2],t,a[0]])}return n}function t(r,n){function p(r,n){var e=r[0].replace(/[^\d\-,.]/g,"").split(/[,\-]/).map(function(r){return Math.ceil(+r)}),a=n[0].replace(/[^\d\-,.]/g,"").split(/[,\-]/).map(function(r){return Math.ceil(+r)}),i=function(r){return t.indexOf(r)},u=Math.max.apply(null,e.map(i)),f=Math.max.apply(null,a.map(i));return u-f}function o(r,n){var t=r[0].replace(/[\d\- ]/g,"").split(","),a=n[0].replace(/[\d\- ]/g,"").split(","),i=function(r){return e.indexOf(r)},u=Math.max.apply(null,t.map(i)),f=Math.max.apply(null,a.map(i));return u-f}function s(r,n){return r[1]===n[1]?0:"O"===r[1]?-1:1}var f,l,t=[12,13,14,11,15,16,10,17,18,19,20,9,21,22,23,8,7,6,5,4,3,2,1,0],e=["M","T","H","F","W","S","s"];for(f=0,l=[s,p,o];0===f&&(f=l.shift()(r,n),0!==l.length););return f}function p(){var r=[];return r}var i,u,e=n(),a=[];for(i in e)if(e.hasOwnProperty(i))for(u in e[i])e[i].hasOwnProperty(u)&&a.push([e[i][u].sort(t),e[i][u].length]);return a.sort(function(r,n){return r[1]-n[1]}),a=a.map(function(r){return r[0]}),p()}function generateTimetable(){"use strict";var r="courses="+encodeURI(JSON.stringify(getCourses()));$.getJSON("data.php",r,generate)}
