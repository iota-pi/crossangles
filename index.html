<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">

        <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <title>CrossAngles</title>
        <meta name="application-name" content="CrossAngles">
        <meta name="description" content="An unofficial timetabling program for UNSW">
        <meta name="author" content="Christians @ CSE">
        <meta name="theme-color" content="#2196f3">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="shortcut icon" href="favicon.png">
        <link rel="apple-touch-icon" href="favicon.png">
        <link rel="manifest" href="manifest.json">

        <script>
            /* jshint ignore:start */
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-101186620-1', 'auto');ga('send', 'pageview');
            /* jshint ignore:end */
        </script>
    </head>

    <body>
        <div class="menu" id="menu-shadow"></div>
        <nav class="topbar noselect">
            <div class="name">CrossAngles</div>
            <div class="menu-toggle" id="ddmenu-toggle">
                <span>&#9776;</span>
            </div>
            <div class="menu" id="ddmenu">
                <div class="menu-item" id="menu-generate">
                    <span><span class="glyphicon glyphicon-triangle-right" aria-hidden="true"></span><span class="icon-text">Generate timetable</span></span>
                </div>
                <div class="menu-item" id="menu-download">
                    <span><span class="glyphicon glyphicon-picture" aria-hidden="true"></span><span class="icon-text">Save timetable as image</span></span>
                </div>
                <div class="menu-item" id="menu-showhelp" data-target="#faqpanel" data-toggle="modal">
                    <span><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span><span class="icon-text">Show FAQ</span></span>
                </div>
                <div class="menu-item" id="menu-showbugs" data-target="#bugpanel" data-toggle="modal">
                    <span><span class="glyphicon glyphicon-comment" aria-hidden="true"></span><span class="icon-text">Contact Us</span></span>
                </div>
            </div>
        </nav>

        <div class="container noselect" id="maincontainer">
            <div class="panel-group">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Course Selection
                        <div class="btn heading-btn" data-target="#customClass" data-toggle="modal">
                            <span><span class="hidden-xs-down">Add </span>custom&nbsp;</span>
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </div>
                    </div>
                    <div class="panel-body">
                        <input class="coursein typeahead" id="coursetypeahead" type="text" placeholder="Enter course code or name" autofocus />
                        <div id="courses">
                        </div>
                    </div>
                </div>

                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Campus Bible Study
                    </div>
                    <div class="panel-body">
                        <div>
                            <p><a href="http://www.campusbiblestudy.org" target="_blank" rel="noopener">Campus Bible Study</a> runs Bible talks, Bible studies, and more</p>
                        </div>

                        <div class="row">
                            <div class="col-sm-6 col-md-3">
                                <input type="checkbox" class="savedOption" id="tbt" checked>
                                <label for="tbt"></label>
                                <label for="tbt">The Bible Talks</label>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <input type="checkbox" class="savedOption" id="bib" checked>
                                <label for="bib"></label>
                                <label for="bib">Bible Studies</label>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <input type="checkbox" class="savedOption" id="ctr" checked>
                                <label for="ctr"></label>
                                <label for="ctr">Core Training</label>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <input type="checkbox" class="savedOption" id="cth" checked>
                                <label for="cth"></label>
                                <label for="cth">Core Theology</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Options
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-6 col-lg-3">
                                <input type="checkbox" class="savedOption" id="showloc">
                                <label for="showloc"></label>
                                <label for="showloc">Show class locations</label>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <input type="checkbox" class="savedOption" id="showcap">
                                <label for="showcap"></label>
                                <label for="showcap">Show class enrolments</label>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <input type="checkbox" class="savedOption" id="fullclasses">
                                <label for="fullclasses"></label>
                                <label for="fullclasses">Include full classes</label>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <input type="checkbox" class="savedOption" id="canclash">
                                <label for="canclash"></label>
                                <label for="canclash">Allow class clashes</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="alert-space">
                </div>

                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Timetable
                        <div class="btn heading-btn" id="generate">
                            <span>Generate <span class="hidden-xs-down"> Timetable</span></span>
                            <span class="glyphicon glyphicon-triangle-right" aria-hidden="true"></span>
                        </div>
                    </div>
                    <div class="panel-body nopadding scroll-x" id="timetable">
                        <div class="row-container">
                            <div class="row">
                            </div>
                        </div>
                    </div>
                </div>

                <div style="margin: 0 auto 15px; text-align: center;">
                    <div class="btn btn-primary" id="saveimage">
                        Download<span class="hidden-xs-down"> as image</span>&nbsp;
                        <span class="glyphicon glyphicon-picture" aria-hidden="true"></span>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="content">
                    <div class="float-sm-left">Current semester: <span id="meta-sem">?</span> <span id="meta-year"></span></div>
                    <div class="float-sm-right">Last data update: <span id="meta-update">?</span></div>
                    <div class="hidden-xs-down">&nbsp;</div>
                </div>
            </div>
        </footer>

        <div class="modal fade" id="customClass" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalLabel">Custom commitment</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid" style="padding: 0px;">
                            <input type="hidden" id="customID" />
                            <input type="text" class="form-control" placeholder="Title" id="customTitle" />
                            <p></p>
                            <input type="text" class="form-control" placeholder="Location (optional)" id="customLocation" />
                            <p></p>
                            <div class="row-container" style="min-width: initial;">
                                <div class="row" data-toggle="buttons">
                                    <div class="col-xs-12 col-md btn btn-secondary" data-day="M">
                                        <input type="radio" name="customDay" data-day="M" autocomplete="off" />Monday
                                    </div>
                                    <div class="col-xs-12 col-md btn btn-secondary" data-day="T">
                                        <input type="radio" name="customDay" data-day="T" autocomplete="off" />Tuesday
                                    </div>
                                    <div class="col-xs-12 col-md btn btn-secondary" data-day="W">
                                        <input type="radio" name="customDay" data-day="W" autocomplete="off" />Wednesday
                                    </div>
                                    <div class="col-xs-12 col-md btn btn-secondary" data-day="H">
                                        <input type="radio" name="customDay" data-day="H" autocomplete="off" />Thursday
                                    </div>
                                    <div class="col-xs-12 col-md btn btn-secondary" data-day="F">
                                        <input type="radio" name="customDay" data-day="F" autocomplete="off" />Friday
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 col-sm-6">
                                    <div class="input-group clockpicker" id="cp_start">
                                        <span class="input-group-addon">Start</span>
                                        <input type="text" class="form-control" id="startTime" readonly>
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-time"></span>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6">
                                    <div class="input-group clockpicker" id="cp_end">
                                        <span class="input-group-addon">Finish</span>
                                        <input type="text" class="form-control" id="endTime" readonly>
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-time"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <p></p>
                            <div class="input-group" id="radiocolours">
                                <div id="radio-holder">
                                    <span class="input-group-addon">Colour</span>

                                    <input type="radio" name="customColour" checked class="crimson" id="colour-crimson" /><label for="colour-crimson"></label>
                                    <input type="radio" name="customColour" class="orange" id="colour-orange" /><label for="colour-orange"></label>
                                    <input type="radio" name="customColour" class="yellow" id="colour-yellow" /><label for="colour-yellow"></label>
                                    <input type="radio" name="customColour" class="green" id="colour-green" /><label for="colour-green"></label>
                                    <input type="radio" name="customColour" class="aqua" id="colour-aqua" /><label for="colour-aqua"></label>
                                    <input type="radio" name="customColour" class="deepblue" id="colour-deepblue" /><label for="colour-deepblue"></label>
                                    <input type="radio" name="customColour" class="purple" id="colour-purple" /><label for="colour-purple"></label>
                                    <input type="radio" name="customColour" class="pink" id="colour-pink" /><label for="colour-pink"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="addcustom" class="btn btn-primary" data-dismiss="modal" disabled>Add</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="helppanel" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">
                            <span><img src="img/favicon-32.png" width="24" height="24" /></span>
                            <span>CrossAngles</span>
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <h5>Welcome!</h5>
                        <p>
                            To use this tool, first select the courses you would like to enrol in for next semester.
                            <img src="img/courses.png" class="modal-img" />
                        </p>
                        <p>
                            Then, generate a timetable and drag the classes around to suit you best!
                            <img src="img/drag.png" class="modal-img" />
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Got it!</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal fade" id="faqpanel" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">
                            <span><img src="img/favicon-32.png" width="24" height="24" /></span>
                            <span>CrossAngles FAQ</span>
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p class="faq-question">Why do classes sometimes move when I move another class?</p>
                        <p class="faq-answer">This has to do with how some classes are set up in the university system. For example, lecture streams often have two different class times and if you change to a different lecture stream, then both lecture times will need to change together.</p>
                        
                        <p class="faq-question">Can I add other things to my timetable that aren't classes?</p>
                        <p class="faq-answer">Yes. Use the "Add Custom" button in the Course Selection panel.</p>
                        
                        <!--
                        <p class="faq-question">When is the data updated?</p>
                        <p class="faq-answer">We try to keep it as up-to-date as possible, particularly during enrolments. Usually, it is updated at 5 minutes past 5am, 12pm and 6pm. Sometimes it's updated at other times too.</p>
                        -->
                        
                        <p class="faq-question">Why don't you include 'intensive' classes?</p>
                        <p class="faq-answer">Because your timetable would look messy if we did. They only run for one week, so they don't really need to go on your general timetable.</p>
                        
                        <p class="faq-question">Why don't you include weekend classes?</p>
                        <p class="faq-answer">Weekend classes are quite rare, and as such most people don't have any, and it is even more rare that they present a potential timetabling issue.</p>
                        
                        <p class="faq-question">Can I save my timetable without using browser cookies?</p>
                        <p class="faq-answer">Yes, you can use the 'Save a backup' feature in the menu in the top-right corner.</p>

                        <p class="faq-question">I've found a bug!</p>
                        <p class="faq-answer">That's not a question, but great! Please let us know</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Done</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="bugpanel" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">
                            <span><img src="img/favicon-32.png" width="24" height="24" /></span>
                            <span>Contact Us</span>
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group">
                            <label class="input-group-addon large">Name</label>
                            <input type="text" id="bug-name" class="form-control" placeholder="Joe Bloggs" />
                        </div>
                        <p></p>
                        <div class="input-group">
                            <label class="input-group-addon large">Email</label>
                            <input type="text" id="bug-email" class="form-control" placeholder="your-email@example.com" required />
                        </div>
                        <p></p>
                        <div class="input-group">
                            <label class="input-group-addon large">Content</label>
                            <textarea id="bug-body" class="form-control"  placeholder="Description of bug..." rows="4" required></textarea>
                        </div>
                        <div class="loader-container" id="bug-loader">
                            <div class="loader">
                                <div class="circle c1"></div>
                                <div class="circle c2"></div>
                                <div class="circle c3"></div>
                                <div class="circle c4"></div>
                                <div class="circle c5"></div>
                                <div class="circle c6"></div>
                                <div class="circle c7"></div>
                                <div class="circle c8"></div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="send-bug" class="btn btn-primary">Send</button>
                    </div>
                </div>
            </div>
        </div>

        <noscript id="deferred-styles">
            <link rel="stylesheet" href="css/tether.min.css" type="text/css" />
            <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
            <link rel="stylesheet" href="css/paper-bs3.min.css" type="text/css" />
            <link rel="stylesheet" href="css/bootstrap-clockpicker.min.css" type="text/css" />
            <link rel="stylesheet" href="css/style.min.css" type="text/css" />
            <link rel="stylesheet" href="css/checkbox.min.css" type="text/css" />
            <link rel="stylesheet" href="css/timetable.min.css" type="text/css" />
            <link rel="stylesheet" href="css/loader.min.css" type="text/css" />
        </noscript>
        <script>
            // load deferred stylesheets
            /* jshint browser:true */
            var loadDeferredStyles = function() {
                var addStylesNode = document.getElementById("deferred-styles"),
                    replacement = document.createElement("div");
                replacement.innerHTML = addStylesNode.textContent;
                document.body.appendChild(replacement);
                addStylesNode.parentElement.removeChild(addStylesNode);
            };
            /* jshint ignore:start */
            var raf = requestAnimationFrame || mozRequestAnimationFrame ||
            webkitRequestAnimationFrame || msRequestAnimationFrame;
            if (raf) raf(function() { window.setTimeout(loadDeferredStyles, 0); });
            else window.addEventListener('load', loadDeferredStyles);
            /* jshint ignore:end */
        </script>

        <!-- load javascript -->
        <script type="text/javascript" src="js/jquery-3.2.1.min.js" defer></script>
        <script type="text/javascript" src="js/tether.min.js" defer></script>
        <script type="text/javascript" src="js/bootstrap.min.js" defer></script>
        <script type="text/javascript" src="js/typeahead.min.js" defer></script>
        <script type="text/javascript" src="js/jquery-ui.min.js" defer></script>
        <script type="text/javascript" src="js/jquery.ui.touch-punch.min.js" defer></script>
        <script type="text/javascript" src="js/cookie.min.js" defer></script>
        <script type="text/javascript" src="js/evaluate.js" defer></script>
        <script type="text/javascript" src="js/search.js" defer></script>
        <script type="text/javascript" src="js/CBS.js" defer></script>
        <script type="text/javascript" src="js/generate.js" defer></script>
        <script type="text/javascript" src="js/bootstrap-clockpicker.js" defer></script>
        <script type="text/javascript" src="js/ofi.min.js" defer></script>
        <script type="text/javascript" src="js/page.js" defer></script>
        <script type="text/javascript" src="js/inlineit.js" async></script>
        <script type="text/javascript" src="js/download.min.js" async></script>
    </body>
</html>
