<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">

        <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <title>CrossAngles</title>
        <meta name="application-name" content="CrossAngles">
        <meta name="description" content="An unofficial timetabling program for UNSW">
        <meta name="author" content="Christians @ CSE">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="shortcut icon" href="favicon.png">
        <link rel="apple-touch-icon" href="favicon.png">

        <!-- temporary stylesheet -->
        <style type="text/css">
            .btn,.input-group-addon,.navbar-brand{white-space:nowrap}.btn,a{transition-property:all}.btn,.noselect{user-select:none}body,button,input{-webkit-font-smoothing:antialiased;letter-spacing:.1px}.glyphicon,body,button,input{-webkit-font-smoothing:antialiased}.btn,a,button,input,label{touch-action:manipulation}.col,label{max-width:100%}a:focus,button:focus{outline-color:-webkit-focus-ring-color;outline-style:auto}.btn,.btn-primary:active,.btn-secondary:active,.btn:active{background-image:none}.btn,.checkbox-inline,.input-group-addon,img{vertical-align:middle}body{margin:0;font-family:Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;font-weight:400;line-height:1.846;color:rgba(0,0,0,.8);background-color:#f4f4f4;height:100%}.navbar,.panel,.panel-group{margin-bottom:23px}*{box-sizing:border-box}footer,nav{display:block}.input-group .form-control,.input-group-addon,.navbar{-webkit-box-orient:vertical;-webkit-box-direction:normal;display:-webkit-flex;flex-direction:column}.navbar{display:flex;flex-direction:column;padding:.5rem 1rem;position:relative;min-height:64px;border-style:none;box-shadow:rgba(0,0,0,.3) 0 1px 2px}.container,.container-fluid{position:relative;margin-left:auto;margin-right:auto;padding-right:15px;padding-left:15px}.container-fluid>.navbar-header{margin-right:-15px;margin-left:-15px}.navbar-brand{display:inline-block;margin-right:1rem;font-size:24px;float:left;line-height:23px;height:64px;padding:20.5px 15px}span.blue{color:#2196f3}.panel{background-color:#fff;border-style:none;border-radius:2px;box-shadow:rgba(0,0,0,.3) 0 1px 4px}.panel-group .panel{border-radius:3px}.panel-primary{border-color:#2196f3}.panel-group .panel,.panel-group .panel-primary{margin-bottom:15px;text-overflow:ellipsis}.panel-heading{padding:10px 15px;border-bottom-style:none;border-top-right-radius:2px;border-top-left-radius:2px}.panel-group .panel-heading{border-bottom-width:0}.panel-primary>.panel-heading{color:#fff;background-color:#2196f3;border-color:#2196f3}.panel-primary .panel-heading{font-weight:700;font-size:14px;padding:10px 15px 8px;position:relative;cursor:default}.btn,.glyphicon{display:inline-block;font-weight:400}.btn{text-align:center;line-height:1.846;border-style:none;padding:6px 16px;font-size:13px;border-radius:3px;transition-duration:.4s;margin-bottom:0;cursor:pointer;text-transform:uppercase;box-shadow:rgba(0,0,0,.4) 1px 1px 4px}.btn:focus{outline-width:0;box-shadow:rgba(2,117,216,.25) 0 0 0 2px}.btn:disabled{cursor:not-allowed;opacity:.65}.btn:active{outline-width:0;box-shadow:rgba(0,0,0,.125) 0 3px 5px inset}.panel-primary .panel-heading .btn{position:absolute;top:50%;right:1em;transform:translateY(-50%);border-style:none;line-height:1;box-shadow:none;padding:0;float:right;vertical-align:middle}div.flow{display:inline-block}.glyphicon{position:static;top:1px;font-family:"Glyphicons Halflings";font-style:normal;line-height:1}.glyphicon-plus::before{content:"+"}.panel-primary .panel-heading .btn .glyphicon{font-size:16px;margin-left:5px}.panel-body{padding:15px}.typeahead-container{position:relative}button,input{overflow:visible;margin:0}input{line-height:normal}[type=text].form-control,input.form-control,input[type=text]{padding:0;border-style:none;border-radius:0;-webkit-appearance:none;box-shadow:#ddd 0 -1px 0 inset;font-size:16px}.coursein.typeahead{height:38px;width:100%;padding:8px;font-size:14px;border:1px solid #ccc;background-color:rgba(255,255,255,0);border-radius:4px;box-shadow:rgba(0,0,0,.075) 0 1px 1px inset;transition-duration:.15s,.15s;transition-timing-function:ease-in-out,ease-in-out;transition-delay:initial,initial;transition-property:border-color,box-shadow}.dropdown-menu{position:absolute;top:38px;left:0;z-index:1000;display:none;float:left;min-width:200px;padding:0;margin:0;font-size:13px;color:#292b2c;text-align:left;list-style-type:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:4px;box-shadow:rgba(0,0,0,.176) 0 6px 12px;-webkit-background-clip:padding-box}.class-drag,.class-shadow,.dropdown-menu{width:100%;overflow:hidden}#courses{margin:10px 0 -10px}#courses>div,.col.body{border-top-width:1px;border-top-style:solid;border-top-color:#ddd}#courses>div{display:flex;align-items:center;padding:10px}#courses>div>div:first-child{margin-right:auto}#courses>div>div:last-child{align-self:flex-end;margin-top:auto;margin-bottom:auto;display:flex;align-items:center}.checkbox-inline,label{font-weight:400;display:inline-block}.glyphicon-remove-circle::before{content:""}#courses .glyphicon{margin:auto;padding-left:5px}.glyphicon-clickable{font-size:20px;color:#2196f3;cursor:pointer}.glyphicon-clickable:hover{color:#147fd4}.glyphicon-clickable:active{color:#0060aa}.glyphicon-edit::before{content:""}.panel-group .panel+.panel{margin-top:5px}p{cursor:default;margin:0 0 1em}a{background-color:transparent;color:#2196f3;text-decoration-line:none;transition-duration:.2s}a:focus{outline-width:5px;outline-offset:-2px}.form-control:focus,.modal,.modal-content,[tabindex="-1"]:focus{outline-width:0}.checkbox-inline{position:relative;padding-left:20px;margin-bottom:0;cursor:pointer}label{margin-bottom:5px}.checkbox-inline label{padding-left:25px}[type=checkbox],[type=radio],input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=checkbox],input[type=radio]{margin:4px 0 0;line-height:normal}.checkbox-inline input[type=checkbox]{margin-left:-25px}.checkbox-inline input[type=checkbox],input[type=checkbox]{position:relative;border-style:none;margin-bottom:-4px;-webkit-appearance:none;cursor:pointer}.checkbox-inline+.checkbox-inline{margin-top:0;margin-left:10px}sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative;top:-.5em}#generateWarning{color:#ff9800}button,html [type=button]{-webkit-appearance:button}button,html input[type=button]{-webkit-appearance:button;cursor:pointer}.glyphicon-download::before{content:""}.panel-primary .panel-body.nopadding{padding:0}.panel-primary .panel-body.scroll-x{overflow-x:auto}.row{display:flex;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col.body,.col.head{border-left-width:1px;border-left-style:solid;border-left-color:#ddd}.small{font-size:92%;font-weight:400}footer{color:#fff;background-color:#303030;text-align:center;width:100%;max-height:70px}footer div.content{padding:10px}.modal{overflow:hidden;display:none}.fade{opacity:0;transition-duration:.15s;transition-timing-function:linear;transition-property:opacity}h5{margin-top:11.5px;margin-bottom:11.5px;font-weight:400;line-height:1.1;color:#444;font-size:20px}.modal-title{margin-bottom:0;line-height:1.5}button{text-transform:none;overflow:visible}button.close{-webkit-appearance:none;padding:0;cursor:pointer;background-color:transparent;border-width:0}button:focus{outline-width:5px}.close{font-weight:300;float:right;font-size:34px;line-height:24px;color:#000;text-shadow:none;opacity:.6;transition-duration:.2s;transition-property:all}.close:hover{opacity:1}.form-control{display:block}.btn-secondary{color:#292b2c;background-color:#fff;border-color:#ccc}.btn-secondary:hover{color:#292b2c;background-color:#e6e6e6;border-color:#adadad}.btn-secondary:focus{box-shadow:rgba(204,204,204,.5) 0 0 0 2px}.btn-secondary:disabled{background-color:#fff;border-color:#ccc}.btn-secondary:active{color:#292b2c;background-color:#e6e6e6;border-color:#adadad}[data-toggle=buttons]>.btn input[type=radio]{position:absolute;clip:rect(0 0 0 0);pointer-events:none}input[type=radio]{position:relative;margin-top:6px;margin-right:4px;vertical-align:top;border-style:none;background-color:transparent;-webkit-appearance:none;cursor:pointer}input[type=radio]:focus{outline-style:none}input[type=radio]::before{position:absolute;left:0;top:-3px;background-color:#2196f3;transform:scale(0)}input[type=radio]::after{position:relative;top:-3px;border:2px solid #666}input[type=radio]:checked::before{transform:scale(.5)}input[type=radio]:disabled:checked::before{background-color:#bbb}input[type=radio]:checked::after{border-color:#2196f3}.btn-primary,.btn-primary:focus,.btn-primary:hover{color:#fff;border-color:transparent}[type=text].form-control[readonly],input.form-control[readonly],input[type=text][readonly]{box-shadow:none;border-bottom-width:1px;border-bottom-style:dotted;border-bottom-color:#ddd}.form-control+.input-group-addon:not(:first-child){border-left-width:0}.btn-primary{background-color:#2196f3;position:relative}.btn-primary:hover{background-color:#0c7cd5}.btn-primary:focus{box-shadow:rgba(2,117,216,.5) 0 0 0 2px;background-color:#2196f3}.btn-primary:disabled{background-color:#0275d8;border-color:#0275d8}.btn-primary:active{color:#fff;background-color:#0c7cd5;border-color:transparent;box-shadow:rgba(0,0,0,.4) 2px 2px 4px}button[disabled]{cursor:default}.btn[disabled]{cursor:not-allowed;opacity:.65;box-shadow:none}.btn-primary::after{content:"";display:block;position:absolute;width:100%;height:100%;top:0;left:0;background-image:radial-gradient(circle,#fff 10%,transparent 10.01%);background-repeat:no-repeat;background-size:1000% 1000%;background-position:50% center;opacity:0;pointer-events:none;transition-duration:.5s,1s;transition-timing-function:initial,initial;transition-delay:initial,initial;transition-property:background,opacity}.btn-primary:active::after{background-size:0 0;opacity:.2;transition-duration:0s}img{border-width:0}img.modal-img{width:100%;max-height:200px;object-fit:scale-down;object-position:center center}
        </style>
    </head>

    <body>
        <nav class="navbar noselect">
            <div class="container-fluid">
                <div class="navbar-header">
                    <span class="navbar-brand blue">CrossAngles</span>
                </div>
            </div>
        </nav>

        <div class="container noselect">
            <div class="panel-group">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Course Selection
                        <div class="btn heading-btn" data-target="#customClass" data-toggle="modal">
                            <div class="flow align-middle">
                                <span class="hidden-xs-down">Add </span>custom
                            </div>
                            <div class="flow align-middle">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body">
                        <input class="coursein typeahead" id="coursetypeahead" type="text" placeholder="Enter course code or name" />
                        <div id="courses">
                        </div>
                    </div>
                </div>

                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Campus Bible Study
                    </div>
                    <div class="panel-body">
                        <div>
                            <p><a href="http://www.campusbiblestudy.org" target="_blank" rel="noopener">Campus Bible Study</a> runs Bible talks, Bible studies, and more</p>
                        </div>

                        <div class="row">
                            <div class="col-sm-6 col-md-3">
                                <input type="checkbox" class="savedOption" id="tbt" checked>
                                <label for="showloc"></label>
                                <label for="showloc">The Bible Talks</label>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <input type="checkbox" class="savedOption" id="bib" checked>
                                <label for="showloc"></label>
                                <label for="showloc">Bible Studies</label>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <input type="checkbox" class="savedOption" id="ctr" checked>
                                <label for="showloc"></label>
                                <label for="showloc">Core Training</label>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <input type="checkbox" class="savedOption" id="cth" checked>
                                <label for="showloc"></label>
                                <label for="showloc">Core Theology</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Options
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" class="savedOption" id="showloc">
                                <label for="showloc"></label>
                                <label for="showloc">Show class locations</label>
                            </div>
                            <div class="col-md-5">
                                <input type="checkbox" class="savedOption" id="showcap">
                                <label for="showcap"></label>
                                <label for="showcap">Show approximate class enrolments</label>
                            </div>
                            <div class="col-md-3">
                                <input type="checkbox" class="savedOption" id="fullclasses">
                                <label for="fullclasses"></label>
                                <label for="fullclasses">Include full classes</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="margin: 0 auto 15px; text-align: center;">
                    <input type="button" class="btn" value="Create Timetable" onclick="generate();" />
                </div>

                <div id="alert-space">
                </div>

                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Timetable
                        <div class="btn heading-btn" id="saveimage">
                            <div class="flow align-middle">
                                Download<span class="hidden-xs-down"> as image</span>
                            </div>
                            <div class="flow align-middle">
                                <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body nopadding scroll-x" id="timetable">
                        <div class="row-container">
                            <div class="row">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- extra panels go here -->
            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="content">
                    <div class="float-sm-left">Current semester: <span id="meta-sem">?</span> <span id="meta-year"></span></div>
                    <div class="float-sm-right">Last data update: <span id="meta-update">?</span></div>
                    <div class="hidden-xs-down">&nbsp;</div>
                </div>
            </div>
        </footer>

        <div class="modal fade" id="customClass" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalLabel">Custom commitment</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid" style="padding: 0px;">
                            <input type="hidden" id="customID" />
                            <input type="text" class="form-control" placeholder="Title" id="customTitle" />
                            <p></p>
                            <input type="text" class="form-control" placeholder="Location (optional)" id="customLocation" />
                            <p></p>
                            <div class="row-container" style="min-width: initial;">
                                <div class="row" data-toggle="buttons">
                                    <div class="col-xs-12 col-md btn btn-secondary" data-day="M">
                                        <input type="radio" name="customDay" data-day="M" autocomplete="off" />Monday
                                    </div>
                                    <div class="col-xs-12 col-md btn btn-secondary" data-day="T">
                                        <input type="radio" name="customDay" data-day="T" autocomplete="off" />Tuesday
                                    </div>
                                    <div class="col-xs-12 col-md btn btn-secondary" data-day="W">
                                        <input type="radio" name="customDay" data-day="W" autocomplete="off" />Wednesday
                                    </div>
                                    <div class="col-xs-12 col-md btn btn-secondary" data-day="H">
                                        <input type="radio" name="customDay" data-day="H" autocomplete="off" />Thursday
                                    </div>
                                    <div class="col-xs-12 col-md btn btn-secondary" data-day="F">
                                        <input type="radio" name="customDay" data-day="F" autocomplete="off" />Friday
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 col-sm-6">
                                    <div class="input-group clockpicker" id="cp_start">
                                        <span class="input-group-addon">Start</span>
                                        <input type="text" class="form-control" id="startTime" readonly>
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-time"></span>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6">
                                    <div class="input-group clockpicker" id="cp_end">
                                        <span class="input-group-addon">Finish</span>
                                        <input type="text" class="form-control" id="endTime" readonly>
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-time"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <p></p>
                            <div class="input-group" id="radiocolours">
                                <span class="input-group-addon">Colour</span>
                                <input type="radio" name="customColour" checked class="crimson" />
                                <!--
                                <div class="flow">
                                    <input type="radio" name="customColour" checked class="crimson" /><input type="radio" name="customColour" class="red" /><input type="radio" name="customColour" class="orange" /><input type="radio" name="customColour" class="green" />
                                </div>
                                <div class="flow">
                                    <input type="radio" name="customColour" class="darkgreen" /><input type="radio" name="customColour" class="midblue" /><input type="radio" name="customColour" class="deepblue" /><input type="radio" name="customColour" class="purple" />
                                </div>
                                -->
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="addcustom" class="btn btn-primary" data-dismiss="modal" disabled>Add</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="helppanel" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title"><img src="favicon.png" width="24" height="24" />CrossAngles</h5>
                    </div>
                    <div class="modal-body">
                        <h5>Welcome!</h5>
                        <p class="small">
                            This tool is currently in private beta. We ask you to not distribute this link. When this tool is publicly released, it will be hosted at another location.
                        </p>
                        <p>
                            To use this tool, first select the courses you would like to enrol in for next semester.
                            <img src="img/courses.png" class="modal-img" />
                        </p>
                        <p>
                            Then, generate a timetable and drag the classes around to suit you best!
                            <img src="img/drag.png" class="modal-img" />
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Got it!</button>
                    </div>
                </div>
            </div>
        </div>

        <noscript id="deferred-styles">
            <link rel="stylesheet" href="css/tether.min.css" type="text/css" />
            <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
            <link rel="stylesheet" href="css/paper-bs3.min.css" type="text/css" />
            <link rel="stylesheet" href="css/bootstrap-clockpicker.min.css" type="text/css" />
            <link rel="stylesheet" href="css/style.min.css" type="text/css" />
            <link rel="stylesheet" href="css/checkbox.min.css" type="text/css" />
            <link rel="stylesheet" href="css/timetable.min.css" type="text/css" />
        </noscript>
        <script>
            // load deferred stylesheets
            /* jshint browser:true */
            var loadDeferredStyles = function() {
                var addStylesNode = document.getElementById("deferred-styles"),
                    replacement = document.createElement("div");
                replacement.innerHTML = addStylesNode.textContent;
                document.body.appendChild(replacement);
                addStylesNode.parentElement.removeChild(addStylesNode);
            };
            /* jshint ignore:start */
            var raf = requestAnimationFrame || mozRequestAnimationFrame ||
            webkitRequestAnimationFrame || msRequestAnimationFrame;
            if (raf) raf(function() { window.setTimeout(loadDeferredStyles, 0); });
            else window.addEventListener('load', loadDeferredStyles);
            /* jshint ignore:end */
        </script>
        <script>
            /* jshint ignore:start */
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-101186620-1', 'auto');ga('send', 'pageview');
            /* jshint ignore:end */
        </script>

        <!-- load javascript -->
        <script type="text/javascript" src="js/jquery-3.2.1.min.js" defer></script>
        <script type="text/javascript" src="js/tether.min.js" defer></script>
        <script type="text/javascript" src="js/bootstrap.min.js" defer></script>
        <script type="text/javascript" src="js/typeahead.min.js" defer></script>
        <script type="text/javascript" src="js/jquery-ui.min.js" defer></script>
        <script type="text/javascript" src="js/jquery.ui.touch-punch.min.js" defer></script>
        <script type="text/javascript" src="js/cookie.min.js" defer></script>
        <script type="text/javascript" src="js/evaluate.min.js" defer></script>
        <script type="text/javascript" src="js/search.min.js" defer></script>
        <script type="text/javascript" src="js/CBS.min.js" defer></script>
        <script type="text/javascript" src="js/generate.min.js" defer></script>
        <script type="text/javascript" src="js/bootstrap-clockpicker.min.js" defer></script>
        <script type="text/javascript" src="js/ofi.min.js" defer></script>
        <script type="text/javascript" src="js/page.min.js" defer></script>
        <script type="text/javascript" src="js/inlineit.min.js" async></script>
        <script type="text/javascript" src="js/download.min.js" async></script>
    </body>
</html>
